import { S as $, i as x, s as X, Z as Q, x as c, f as h, g as p, n as W, p as b, G as J, h as V, t as y, k as O, o as v, e as q, d as B, m as U, j as G, b as C, U as Z, w as T, y as P, _ as H, $ as ue, H as E, z as R, a0 as ne, l as I, D as _e, W as Sl, F as te, a1 as Fl, a2 as Bl, a as fe, R as ce, q as We, A as zl, B as pe, C as ge, E as Cl, a3 as Ll, P as Wl, a4 as Ul, a5 as qe, N as Ml, a6 as Ne, Q as Gl } from "./index.min.js";
import { I as Me, i as Zl } from "./svelte.min.js";
import { M as Rl } from "./modalImage.min.js";
import { C as Yl } from "./close.min.js";
function Ql(s) {
  let e, l, t, i, o, n, r;
  return {
    c() {
      e = Q("svg"), l = Q("g"), t = Q("path"), i = Q("path"), o = Q("path"), n = Q("path"), r = Q("path"), c(t, "d", "m9 10.75c-1.52 0-2.75-1.23-2.75-2.75s1.23-2.75 2.75-2.75 2.75 1.23 2.75 2.75-1.23 2.75-2.75 2.75zm0-4c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25z"), c(i, "d", "m15 22.75h-6c-5.43 0-7.75-2.32-7.75-7.75v-6c0-5.43 2.32-7.75 7.75-7.75h4c.41 0 .75.34.75.75s-.34.75-.75.75h-4c-4.61 0-6.25 1.64-6.25 6.25v6c0 4.61 1.64 6.25 6.25 6.25h6c4.61 0 6.25-1.64 6.25-6.25v-5c0-.41.34-.75.75-.75s.75.34.75.75v5c0 5.43-2.32 7.75-7.75 7.75z"), c(o, "d", "m18 8.74994c-.41 0-.75-.34-.75-.75v-6c0-.3.18-.58.46-.69s.6-.05.82.16l2 2c.29.29.29.77 0 1.06s-.77.29-1.06 0l-.72-.72v4.19c0 .41-.34.75-.75.75z"), c(n, "d", "m15.9999 4.74994c-.19 0-.38-.07-.53-.22-.29-.29-.29-.77 0-1.06l2-2c.29-.29.77-.29 1.06 0s.29.77 0 1.06l-2 2c-.15.15-.34.22-.53.22z"), c(r, "d", "m2.6698 19.7001c-.24 0-.48-.12-.62-.33-.23-.34-.14-.81.2-1.04l4.93-3.31c1.08-.72 2.57-.64 3.55.19l.33.29c.5.43 1.35.43 1.84 0l4.16-3.57c1.06-.91 2.73-.91 3.8 0l1.63 1.4c.31.27.35.74.08 1.06-.27.31-.75.35-1.06.08l-1.63-1.4c-.5-.43-1.34-.43-1.84 0l-4.16 3.57c-1.06.91-2.73.91-3.8 0l-.33-.29c-.46-.39-1.21999-.43-1.72999-.08l-4.92001 3.31c-.14.08-.29.12-.43.12z"), c(
        l,
        "fill",
        /*color*/
        s[0]
      ), c(e, "fill", "none"), c(
        e,
        "height",
        /*size*/
        s[1]
      ), c(e, "viewBox", "0 0 24 24"), c(
        e,
        "width",
        /*size*/
        s[1]
      ), c(e, "xmlns", "http://www.w3.org/2000/svg");
    },
    m(a, u) {
      h(a, e, u), p(e, l), p(l, t), p(l, i), p(l, o), p(l, n), p(l, r);
    },
    p(a, [u]) {
      u & /*color*/
      1 && c(
        l,
        "fill",
        /*color*/
        a[0]
      ), u & /*size*/
      2 && c(
        e,
        "height",
        /*size*/
        a[1]
      ), u & /*size*/
      2 && c(
        e,
        "width",
        /*size*/
        a[1]
      );
    },
    i: W,
    o: W,
    d(a) {
      a && b(e);
    }
  };
}
function Xl(s, e, l) {
  let { color: t = "white" } = e, { size: i = 38 } = e;
  return s.$$set = (o) => {
    "color" in o && l(0, t = o.color), "size" in o && l(1, i = o.size);
  }, [t, i];
}
class Jl extends $ {
  constructor(e) {
    super(), x(this, e, Xl, Ql, X, { color: 0, size: 1 });
  }
}
function Kl(s) {
  let e, l, t, i;
  return t = new Me({ props: { color: "white", size: "50" } }), {
    c() {
      e = q("div"), l = q("div"), B(t.$$.fragment), c(l, "class", "sq-pt-2 sq-pl-2 sq-w-full"), c(e, "class", "sq-bg-gray sq-w-[40px] sq-mr-3 sq-h-[40px] sq-rounded-full sq-flex");
    },
    m(o, n) {
      h(o, e, n), p(e, l), U(t, l, null), i = !0;
    },
    p: W,
    i(o) {
      i || (v(t.$$.fragment, o), i = !0);
    },
    o(o) {
      y(t.$$.fragment, o), i = !1;
    },
    d(o) {
      o && b(e), G(t);
    }
  };
}
function $l(s) {
  let e, l;
  return e = new Jl({
    props: { color: "white", size: (
      /*size*/
      s[1]
    ) }
  }), {
    c() {
      B(e.$$.fragment);
    },
    m(t, i) {
      U(e, t, i), l = !0;
    },
    p(t, i) {
      const o = {};
      i & /*size*/
      2 && (o.size = /*size*/
      t[1]), e.$set(o);
    },
    i(t) {
      l || (v(e.$$.fragment, t), l = !0);
    },
    o(t) {
      y(e.$$.fragment, t), l = !1;
    },
    d(t) {
      G(e, t);
    }
  };
}
function xl(s) {
  let e, l, t, i;
  const o = [$l, Kl], n = [];
  function r(a, u) {
    return (
      /*upload*/
      a[0] ? 0 : 1
    );
  }
  return e = r(s), l = n[e] = o[e](s), {
    c() {
      l.c(), t = J();
    },
    m(a, u) {
      n[e].m(a, u), h(a, t, u), i = !0;
    },
    p(a, [u]) {
      let f = e;
      e = r(a), e === f ? n[e].p(a, u) : (V(), y(n[f], 1, 1, () => {
        n[f] = null;
      }), O(), l = n[e], l ? l.p(a, u) : (l = n[e] = o[e](a), l.c()), v(l, 1), l.m(t.parentNode, t));
    },
    i(a) {
      i || (v(l), i = !0);
    },
    o(a) {
      y(l), i = !1;
    },
    d(a) {
      n[e].d(a), a && b(t);
    }
  };
}
function et(s, e, l) {
  let { upload: t = !1 } = e, { size: i = 40 } = e;
  return s.$$set = (o) => {
    "upload" in o && l(0, t = o.upload), "size" in o && l(1, i = o.size);
  }, [t, i];
}
class he extends $ {
  constructor(e) {
    super(), x(this, e, et, xl, X, { upload: 0, size: 1 });
  }
}
function Pe(s) {
  let e, l, t, i, o = (
    /*avatar*/
    (s[3] || /*username*/
    s[4]) && Ve(s)
  ), n = (
    /*productsArray*/
    s[5].length > 0 && Se(s)
  );
  return {
    c() {
      e = q("div"), l = q("div"), o && o.c(), t = C(), n && n.c(), c(l, "class", "sq-items-center sq-absolute sq-w-full sq-top-[10px] sq-flex sq-justify-between sq-z-10"), c(e, "class", i = "sq-w-[" + /*innerWidth*/
      (s[6] > 480 ? (
        /*mediaWidth*/
        s[2]
      ) : (
        /*innerWidth*/
        s[6]
      )) + "px]"), Z(e, "height", Math.trunc(
        /*innerWidth*/
        (s[6] > 480 ? (
          /*mediaWidth*/
          s[2]
        ) : (
          /*innerWidth*/
          s[6]
        )) / 3
      ) + "px");
    },
    m(r, a) {
      h(r, e, a), p(e, l), o && o.m(l, null), p(e, t), n && n.m(e, null);
    },
    p(r, a) {
      /*avatar*/
      r[3] || /*username*/
      r[4] ? o ? o.p(r, a) : (o = Ve(r), o.c(), o.m(l, null)) : o && (o.d(1), o = null), /*productsArray*/
      r[5].length > 0 ? n ? n.p(r, a) : (n = Se(r), n.c(), n.m(e, null)) : n && (n.d(1), n = null), a & /*innerWidth, mediaWidth*/
      68 && i !== (i = "sq-w-[" + /*innerWidth*/
      (r[6] > 480 ? (
        /*mediaWidth*/
        r[2]
      ) : (
        /*innerWidth*/
        r[6]
      )) + "px]") && c(e, "class", i), a & /*innerWidth, mediaWidth*/
      68 && Z(e, "height", Math.trunc(
        /*innerWidth*/
        (r[6] > 480 ? (
          /*mediaWidth*/
          r[2]
        ) : (
          /*innerWidth*/
          r[6]
        )) / 3
      ) + "px");
    },
    d(r) {
      r && b(e), o && o.d(), n && n.d();
    }
  };
}
function Ve(s) {
  let e, l, t, i = (
    /*username*/
    (s[4] || "") + ""
  ), o, n = (
    /*avatar*/
    s[3] && Oe(s)
  );
  return {
    c() {
      e = q("div"), n && n.c(), l = C(), t = q("span"), o = T(i), c(t, "class", "sq-text-white sq-pr-2 sq-text-[12px] sq-font-bold"), c(e, "class", "sq-rounded-full sq-flex sq-gap-1 sq-items-center sq-ml-[10px] sq-h-[40px] sq-mt-[10px]");
    },
    m(r, a) {
      h(r, e, a), n && n.m(e, null), p(e, l), p(e, t), p(t, o);
    },
    p(r, a) {
      /*avatar*/
      r[3] ? n ? n.p(r, a) : (n = Oe(r), n.c(), n.m(e, l)) : n && (n.d(1), n = null), a & /*username*/
      16 && i !== (i = /*username*/
      (r[4] || "") + "") && P(o, i);
    },
    d(r) {
      r && b(e), n && n.d();
    }
  };
}
function Oe(s) {
  let e, l, t;
  return {
    c() {
      e = q("div"), l = q("img"), H(l.src, t = /*avatar*/
      s[3]) || c(l, "src", t), c(l, "alt", ""), c(l, "class", "sq-post-row-product-avatar"), c(e, "class", "");
    },
    m(i, o) {
      h(i, e, o), p(e, l);
    },
    p(i, o) {
      o & /*avatar*/
      8 && !H(l.src, t = /*avatar*/
      i[3]) && c(l, "src", t);
    },
    d(i) {
      i && b(e);
    }
  };
}
function Se(s) {
  let e, l, t, i, o, n, r, a, u = (
    /*productsArray*/
    s[5][0][
      /*config*/
      s[0].lang
    ]?.brand && /*productsArray*/
    s[5][0][
      /*config*/
      s[0].lang
    ]?.brand !== void 0 && Fe(s)
  ), f = (
    /*productsArray*/
    s[5][0][
      /*config*/
      s[0].lang
    ]?.name && Be(s)
  ), d = (
    /*productsArray*/
    s[5][0][
      /*config*/
      s[0].lang
    ]?.category?.length > 0 && Ue(s)
  );
  return {
    c() {
      e = q("div"), l = q("div"), t = q("img"), o = C(), n = q("div"), u && u.c(), r = C(), f && f.c(), a = C(), d && d.c(), H(t.src, i = ue(
        /*productsArray*/
        s[5][0][
          /*config*/
          s[0]?.lang
        ]?.image_url,
        "q",
        /*settings*/
        s[1]?.media?.quality
      )) || c(t, "src", i), c(t, "alt", ""), c(
        t,
        "style",
        /*productStyle*/
        s[7]
      ), c(n, "class", "sq-flex sq-flex-col sq-place-content-center sq-py-2"), c(l, "class", "sq-flex sq-gap-2"), c(e, "class", "sq-relative sq-top-[-15%] sq-mx-[2%]");
    },
    m(_, m) {
      h(_, e, m), p(e, l), p(l, t), p(l, o), p(l, n), u && u.m(n, null), p(n, r), f && f.m(n, null), p(n, a), d && d.m(n, null);
    },
    p(_, m) {
      m & /*productsArray, config, settings*/
      35 && !H(t.src, i = ue(
        /*productsArray*/
        _[5][0][
          /*config*/
          _[0]?.lang
        ]?.image_url,
        "q",
        /*settings*/
        _[1]?.media?.quality
      )) && c(t, "src", i), m & /*productStyle*/
      128 && c(
        t,
        "style",
        /*productStyle*/
        _[7]
      ), /*productsArray*/
      _[5][0][
        /*config*/
        _[0].lang
      ]?.brand && /*productsArray*/
      _[5][0][
        /*config*/
        _[0].lang
      ]?.brand !== void 0 ? u ? u.p(_, m) : (u = Fe(_), u.c(), u.m(n, r)) : u && (u.d(1), u = null), /*productsArray*/
      _[5][0][
        /*config*/
        _[0].lang
      ]?.name ? f ? f.p(_, m) : (f = Be(_), f.c(), f.m(n, a)) : f && (f.d(1), f = null), /*productsArray*/
      _[5][0][
        /*config*/
        _[0].lang
      ]?.category?.length > 0 ? d ? d.p(_, m) : (d = Ue(_), d.c(), d.m(n, null)) : d && (d.d(1), d = null);
    },
    d(_) {
      _ && b(e), u && u.d(), f && f.d(), d && d.d();
    }
  };
}
function Fe(s) {
  let e, l = (
    /*productsArray*/
    s[5][0][
      /*config*/
      s[0].lang
    ]?.brand + ""
  ), t;
  return {
    c() {
      e = q("div"), t = T(l), c(e, "class", "sq-text-[12px] sq-text-black sq-post-row-product-brand");
    },
    m(i, o) {
      h(i, e, o), p(e, t);
    },
    p(i, o) {
      o & /*productsArray, config*/
      33 && l !== (l = /*productsArray*/
      i[5][0][
        /*config*/
        i[0].lang
      ]?.brand + "") && P(t, l);
    },
    d(i) {
      i && b(e);
    }
  };
}
function Be(s) {
  let e, l = (
    /*productsArray*/
    s[5][0][
      /*config*/
      s[0].lang
    ]?.name + ""
  ), t;
  return {
    c() {
      e = q("div"), t = T(l), c(e, "class", "sq-line-clamp-1 sq-text-[12px] sq-font-bold sq-text-black sq-post-row-product-name");
    },
    m(i, o) {
      h(i, e, o), p(e, t);
    },
    p(i, o) {
      o & /*productsArray, config*/
      33 && l !== (l = /*productsArray*/
      i[5][0][
        /*config*/
        i[0].lang
      ]?.name + "") && P(t, l);
    },
    d(i) {
      i && b(e);
    }
  };
}
function Ue(s) {
  let e, l = (
    /*productsArray*/
    s[5][0][
      /*config*/
      s[0].lang
    ]?.category.join(", ") + ""
  ), t;
  return {
    c() {
      e = q("div"), t = T(l), c(e, "class", "sq-flex sq-text-[12px] sq-font-semibold sq-text-[#BEC1C4] sq-post-row-product-category");
    },
    m(i, o) {
      h(i, e, o), p(e, t);
    },
    p(i, o) {
      o & /*productsArray, config*/
      33 && l !== (l = /*productsArray*/
      i[5][0][
        /*config*/
        i[0].lang
      ]?.category.join(", ") + "") && P(t, l);
    },
    d(i) {
      i && b(e);
    }
  };
}
function lt(s) {
  let e, l = (
    /*settings*/
    s[1]?.layout?.layout_type === "row-product" && Pe(s)
  );
  return {
    c() {
      l && l.c(), e = J();
    },
    m(t, i) {
      l && l.m(t, i), h(t, e, i);
    },
    p(t, [i]) {
      /*settings*/
      t[1]?.layout?.layout_type === "row-product" ? l ? l.p(t, i) : (l = Pe(t), l.c(), l.m(e.parentNode, e)) : l && (l.d(1), l = null);
    },
    i: W,
    o: W,
    d(t) {
      l && l.d(t), t && b(e);
    }
  };
}
function tt(s, e, l) {
  let t, { config: i } = e, { settings: o } = e, { mediaWidth: n } = e, { avatar: r } = e, { username: a } = e, { productsArray: u } = e, { innerWidth: f } = e;
  return s.$$set = (d) => {
    "config" in d && l(0, i = d.config), "settings" in d && l(1, o = d.settings), "mediaWidth" in d && l(2, n = d.mediaWidth), "avatar" in d && l(3, r = d.avatar), "username" in d && l(4, a = d.username), "productsArray" in d && l(5, u = d.productsArray), "innerWidth" in d && l(6, f = d.innerWidth);
  }, s.$$.update = () => {
    s.$$.dirty & /*innerWidth, mediaWidth, settings*/
    70 && l(7, t = `height: ${Math.trunc((f > 480 ? n : f) / 3)}px; width: ${Math.trunc((f > 480 ? n : f) / 3)}; border-radius: 10px; border: ${o?.layout["product-border"]} solid ${o?.layout["product-border-color"]};`);
  }, [
    i,
    o,
    n,
    r,
    a,
    u,
    f,
    t
  ];
}
class st extends $ {
  constructor(e) {
    super(), x(this, e, tt, lt, X, {
      config: 0,
      settings: 1,
      mediaWidth: 2,
      avatar: 3,
      username: 4,
      productsArray: 5,
      innerWidth: 6
    });
  }
}
function Ge(s) {
  let e, l, t = (
    /*productsArray*/
    s[2].length > 0 && Ze(s)
  );
  return {
    c() {
      e = q("div"), l = q("div"), t && t.c(), c(l, "class", "sq-flex sq-flex-col sq-flex-wrap sq-justify-center sq-items-center sq-mt-2 sq-flex-1"), c(e, "class", "sq-h-full");
    },
    m(i, o) {
      h(i, e, o), p(e, l), t && t.m(l, null);
    },
    p(i, o) {
      /*productsArray*/
      i[2].length > 0 ? t ? t.p(i, o) : (t = Ze(i), t.c(), t.m(l, null)) : t && (t.d(1), t = null);
    },
    d(i) {
      i && b(e), t && t.d();
    }
  };
}
function Ze(s) {
  let e, l, t, i = (
    /*settings*/
    s[1]?.card?.product?.name?.active === "1" && Re(s)
  ), o = (
    /*settings*/
    s[1]?.card?.product?.price?.active === "1" && Ye(s)
  ), n = (
    /*settings*/
    s[1]?.card?.product?.button?.active === "1" && Qe(s)
  );
  return {
    c() {
      i && i.c(), e = C(), o && o.c(), l = C(), n && n.c(), t = J();
    },
    m(r, a) {
      i && i.m(r, a), h(r, e, a), o && o.m(r, a), h(r, l, a), n && n.m(r, a), h(r, t, a);
    },
    p(r, a) {
      /*settings*/
      r[1]?.card?.product?.name?.active === "1" ? i ? i.p(r, a) : (i = Re(r), i.c(), i.m(e.parentNode, e)) : i && (i.d(1), i = null), /*settings*/
      r[1]?.card?.product?.price?.active === "1" ? o ? o.p(r, a) : (o = Ye(r), o.c(), o.m(l.parentNode, l)) : o && (o.d(1), o = null), /*settings*/
      r[1]?.card?.product?.button?.active === "1" ? n ? n.p(r, a) : (n = Qe(r), n.c(), n.m(t.parentNode, t)) : n && (n.d(1), n = null);
    },
    d(r) {
      i && i.d(r), r && b(e), o && o.d(r), r && b(l), n && n.d(r), r && b(t);
    }
  };
}
function Re(s) {
  let e, l = (
    /*productsArray*/
    s[2][0][
      /*config*/
      s[0].lang
    ]?.name + ""
  ), t, i, o;
  return {
    c() {
      e = q("div"), t = T(l), c(e, "class", i = "sq-line-clamp-1	" + /*settings*/
      s[1]?.card?.product?.name?.class), c(e, "style", o = `${/*settings*/
      s[1]?.card?.product?.name?.css ? E(
        /*settings*/
        s[1]?.card?.product?.name?.css
      ) : ""}`);
    },
    m(n, r) {
      h(n, e, r), p(e, t);
    },
    p(n, r) {
      r & /*productsArray, config*/
      5 && l !== (l = /*productsArray*/
      n[2][0][
        /*config*/
        n[0].lang
      ]?.name + "") && P(t, l), r & /*settings*/
      2 && i !== (i = "sq-line-clamp-1	" + /*settings*/
      n[1]?.card?.product?.name?.class) && c(e, "class", i), r & /*settings*/
      2 && o !== (o = `${/*settings*/
      n[1]?.card?.product?.name?.css ? E(
        /*settings*/
        n[1]?.card?.product?.name?.css
      ) : ""}`) && c(e, "style", o);
    },
    d(n) {
      n && b(e);
    }
  };
}
function Ye(s) {
  let e, l = (
    /*productsArray*/
    s[2][0][
      /*config*/
      s[0].lang
    ]?.sales_price + ""
  ), t, i, o = (
    /*productsArray*/
    s[2][0][
      /*config*/
      s[0].lang
    ]?.currency + ""
  ), n, r, a;
  return {
    c() {
      e = q("div"), t = T(l), i = C(), n = T(o), c(e, "class", r = /*settings*/
      s[1]?.card?.product?.price?.class), c(e, "style", a = `${/*settings*/
      s[1]?.card?.product?.price?.css ? E(
        /*settings*/
        s[1]?.card?.product?.price?.css
      ) : ""}`);
    },
    m(u, f) {
      h(u, e, f), p(e, t), p(e, i), p(e, n);
    },
    p(u, f) {
      f & /*productsArray, config*/
      5 && l !== (l = /*productsArray*/
      u[2][0][
        /*config*/
        u[0].lang
      ]?.sales_price + "") && P(t, l), f & /*productsArray, config*/
      5 && o !== (o = /*productsArray*/
      u[2][0][
        /*config*/
        u[0].lang
      ]?.currency + "") && P(n, o), f & /*settings*/
      2 && r !== (r = /*settings*/
      u[1]?.card?.product?.price?.class) && c(e, "class", r), f & /*settings*/
      2 && a !== (a = `${/*settings*/
      u[1]?.card?.product?.price?.css ? E(
        /*settings*/
        u[1]?.card?.product?.price?.css
      ) : ""}`) && c(e, "style", a);
    },
    d(u) {
      u && b(e);
    }
  };
}
function Qe(s) {
  let e, l, t = R(
    /*settings*/
    s[1]?.popup?.button?.translations,
    /*config*/
    s[0],
    /*t*/
    s[3]
  ) + "", i;
  return {
    c() {
      e = q("div"), l = q("div"), c(l, "class", i = `sq-truncate sq-cursor-pointer sq-mt-3 sq-mx-auto sm:sq-max-w-xs ${/*settings*/
      s[1]?.popup?.product?.button?.class} `), c(e, "class", "sq-text-center");
    },
    m(o, n) {
      h(o, e, n), p(e, l), l.innerHTML = t;
    },
    p(o, n) {
      n & /*settings, config, t*/
      11 && t !== (t = R(
        /*settings*/
        o[1]?.popup?.button?.translations,
        /*config*/
        o[0],
        /*t*/
        o[3]
      ) + "") && (l.innerHTML = t), n & /*settings*/
      2 && i !== (i = `sq-truncate sq-cursor-pointer sq-mt-3 sq-mx-auto sm:sq-max-w-xs ${/*settings*/
      o[1]?.popup?.product?.button?.class} `) && c(l, "class", i);
    },
    d(o) {
      o && b(e);
    }
  };
}
function it(s) {
  let e, l = (
    /*settings*/
    s[1].layout.layout_type === "row" && /*settings*/
    (s[1]?.card?.product?.name?.active === "1" || /*settings*/
    s[1]?.card?.product?.price?.active === "1") && Ge(s)
  );
  return {
    c() {
      l && l.c(), e = J();
    },
    m(t, i) {
      l && l.m(t, i), h(t, e, i);
    },
    p(t, [i]) {
      /*settings*/
      t[1].layout.layout_type === "row" && /*settings*/
      (t[1]?.card?.product?.name?.active === "1" || /*settings*/
      t[1]?.card?.product?.price?.active === "1") ? l ? l.p(t, i) : (l = Ge(t), l.c(), l.m(e.parentNode, e)) : l && (l.d(1), l = null);
    },
    i: W,
    o: W,
    d(t) {
      l && l.d(t), t && b(e);
    }
  };
}
function nt(s, e, l) {
  let { config: t } = e, { settings: i } = e, { productsArray: o } = e, { t: n } = e;
  return s.$$set = (r) => {
    "config" in r && l(0, t = r.config), "settings" in r && l(1, i = r.settings), "productsArray" in r && l(2, o = r.productsArray), "t" in r && l(3, n = r.t);
  }, [t, i, o, n];
}
class ot extends $ {
  constructor(e) {
    super(), x(this, e, nt, it, X, {
      config: 0,
      settings: 1,
      productsArray: 2,
      t: 3
    });
  }
}
function Xe(s, e, l) {
  const t = s.slice();
  return t[55] = e[l], t;
}
function Je(s) {
  let e, l = R(
    /*settings*/
    s[1]?.load_more?.translations,
    /*config*/
    s[2],
    /*t*/
    s[22]
  ) + "", t, i;
  return {
    c() {
      e = q("div"), c(e, "class", "sq-hover-load-more");
    },
    m(o, n) {
      h(o, e, n), e.innerHTML = l, t || (i = [
        I(e, "keypress", null),
        I(e, "click", function() {
          _e(
            /*onloadmore*/
            s[19]
          ) && s[19].apply(this, arguments);
        })
      ], t = !0);
    },
    p(o, n) {
      s = o, n[0] & /*settings, config, t*/
      4194310 && l !== (l = R(
        /*settings*/
        s[1]?.load_more?.translations,
        /*config*/
        s[2],
        /*t*/
        s[22]
      ) + "") && (e.innerHTML = l);
    },
    d(o) {
      o && b(e), t = !1, te(i);
    }
  };
}
function at(s) {
  let e, l, t, i, o, n, r;
  return {
    c() {
      e = q("video"), l = q("source"), i = T(`
          Your browser does not support the video tag.`), H(l.src, t = /*src*/
      s[23]) || c(l, "src", t), c(e, "class", o = `${/*styles*/
      s[13]?.hover?.zoom !== "0" && !/*media_type*/
      s[0]?.includes("carousel") ? "sq-zoom" : ""} sq-w-full sq-h-full sq-object-cover`), c(
        e,
        "style",
        /*getAspectRatio*/
        s[33]
      ), e.autoplay = /*autoplay*/
      s[11], e.muted = !0, e.playsInline = !0, e.loop = !0;
    },
    m(a, u) {
      h(a, e, u), p(e, l), p(e, i), n || (r = I(
        e,
        "loadeddata",
        /*loadeddata_handler*/
        s[49]
      ), n = !0);
    },
    p(a, u) {
      u[0] & /*src*/
      8388608 && !H(l.src, t = /*src*/
      a[23]) && c(l, "src", t), u[0] & /*styles, media_type*/
      8193 && o !== (o = `${/*styles*/
      a[13]?.hover?.zoom !== "0" && !/*media_type*/
      a[0]?.includes("carousel") ? "sq-zoom" : ""} sq-w-full sq-h-full sq-object-cover`) && c(e, "class", o), u[1] & /*getAspectRatio*/
      4 && c(
        e,
        "style",
        /*getAspectRatio*/
        a[33]
      ), u[0] & /*autoplay*/
      2048 && (e.autoplay = /*autoplay*/
      a[11]);
    },
    d(a) {
      a && b(e), n = !1, r();
    }
  };
}
function rt(s) {
  let e, l, t, i, o, n;
  return {
    c() {
      e = q("img"), c(e, "alt", "post_image"), H(e.src, l = /*src*/
      s[23]) || c(e, "src", l), c(e, "class", t = `${/*styles*/
      s[13]?.hover?.zoom === "1" || /*styles*/
      s[13]?.hover?.zoom === "2" && /*media_type*/
      s[0] === "image" ? "sq-zoom" : ""} sq-w-full sq-h-full sq-object-cover`), c(e, "style", i = /*getAspectRatio*/
      s[33] + " border-radius: " + /*settings*/
      s[1]?.css["border-radius"] + ";");
    },
    m(r, a) {
      h(r, e, a), o || (n = I(
        e,
        "load",
        /*load_handler*/
        s[48]
      ), o = !0);
    },
    p(r, a) {
      a[0] & /*src*/
      8388608 && !H(e.src, l = /*src*/
      r[23]) && c(e, "src", l), a[0] & /*styles, media_type*/
      8193 && t !== (t = `${/*styles*/
      r[13]?.hover?.zoom === "1" || /*styles*/
      r[13]?.hover?.zoom === "2" && /*media_type*/
      r[0] === "image" ? "sq-zoom" : ""} sq-w-full sq-h-full sq-object-cover`) && c(e, "class", t), a[0] & /*settings*/
      2 | a[1] & /*getAspectRatio*/
      4 && i !== (i = /*getAspectRatio*/
      r[33] + " border-radius: " + /*settings*/
      r[1]?.css["border-radius"] + ";") && c(e, "style", i);
    },
    d(r) {
      r && b(e), o = !1, n();
    }
  };
}
function Ke(s) {
  let e, l, t, i, o, n, r;
  return o = new Me({ props: { color: "black" } }), {
    c() {
      e = q("div"), l = q("div"), t = q("div"), i = q("div"), B(o.$$.fragment), c(i, "class", "sq-w-[20px] sq-h-[22px]"), c(t, "class", "sq-bg-gray sq-w-[45px] sq-h-[45px] sq-rounded-full sq-flex sq-inline-grid sq-items-center	sq-justify-items-center"), c(l, "class", "sq-bg-white sq-opacity-70 sq-top-0 sq-my-auto sq-mt-2 sq-ml-2 sq-inline-flex sq-place-items-center sq-rounded-full "), c(e, "class", n = "sq-h-full sq-absolute sq-top-0 sq-left-0 " + /*hoverIsActive*/
      (s[25] && /*username*/
      s[8] ? "sq-hidden " : ""));
    },
    m(a, u) {
      h(a, e, u), p(e, l), p(l, t), p(t, i), U(o, i, null), r = !0;
    },
    p(a, u) {
      (!r || u[0] & /*hoverIsActive, username*/
      33554688 && n !== (n = "sq-h-full sq-absolute sq-top-0 sq-left-0 " + /*hoverIsActive*/
      (a[25] && /*username*/
      a[8] ? "sq-hidden " : ""))) && c(e, "class", n);
    },
    i(a) {
      r || (v(o.$$.fragment, a), r = !0);
    },
    o(a) {
      y(o.$$.fragment, a), r = !1;
    },
    d(a) {
      a && b(e), G(o);
    }
  };
}
function $e(s) {
  let e, l, t, i, o, n, r, a, u, f, d;
  const _ = [ct, ft, ut], m = [];
  function k(g, w) {
    return (
      /*withLoadmore*/
      g[20] === !0 ? 0 : (
        /*autoplay*/
        g[11] === !0 && /*videoIcon*/
        g[17] && /*media_type*/
        g[0] === "VIDEO" ? 1 : 2
      )
    );
  }
  return n = k(s), r = m[n] = _[n](s), {
    c() {
      e = q("div"), l = q("div"), i = C(), o = q("div"), r.c(), c(l, "class", "sq-media-hover-overlay "), c(l, "style", t = `${/*styles*/
      s[13]?.hover?.overlay_color ? `background-color: ${/*styles*/
      s[13].hover.overlay_color}` : ""}`), c(o, "class", a = /*typeHover*/
      s[42].items.length >= 2 ? " sq-flex sq-items-center sq-flex-col sq-my-auto sq-px-4 sq-w-full " : (
        /*captionHeight*/
        s[26] > /*mediaHeight*/
        s[28] ? "sq-h-full sq-w-full sq-my-auto sq-pb-4 sq-overflow-hidden sq-contents" : ""
      )), c(e, "class", `sq-media-hover ${/*typeHover*/
      s[42].class}`), c(e, "style", u = `${/*styles*/
      s[13]?.hover?.css ? E(
        /*styles*/
        s[13].hover.css
      ) : ""}`), fe(() => (
        /*div2_elementresize_handler*/
        s[53].call(e)
      ));
    },
    m(g, w) {
      h(g, e, w), p(e, l), p(e, i), p(e, o), m[n].m(o, null), f = ce(
        e,
        /*div2_elementresize_handler*/
        s[53].bind(e)
      ), d = !0;
    },
    p(g, w) {
      (!d || w[0] & /*styles*/
      8192 && t !== (t = `${/*styles*/
      g[13]?.hover?.overlay_color ? `background-color: ${/*styles*/
      g[13].hover.overlay_color}` : ""}`)) && c(l, "style", t);
      let L = n;
      n = k(g), n === L ? m[n].p(g, w) : (V(), y(m[L], 1, 1, () => {
        m[L] = null;
      }), O(), r = m[n], r ? r.p(g, w) : (r = m[n] = _[n](g), r.c()), v(r, 1), r.m(o, null)), (!d || w[0] & /*captionHeight, mediaHeight*/
      335544320 && a !== (a = /*typeHover*/
      g[42].items.length >= 2 ? " sq-flex sq-items-center sq-flex-col sq-my-auto sq-px-4 sq-w-full " : (
        /*captionHeight*/
        g[26] > /*mediaHeight*/
        g[28] ? "sq-h-full sq-w-full sq-my-auto sq-pb-4 sq-overflow-hidden sq-contents" : ""
      ))) && c(o, "class", a), (!d || w[0] & /*styles*/
      8192 && u !== (u = `${/*styles*/
      g[13]?.hover?.css ? E(
        /*styles*/
        g[13].hover.css
      ) : ""}`)) && c(e, "style", u);
    },
    i(g) {
      d || (v(r), d = !0);
    },
    o(g) {
      y(r), d = !1;
    },
    d(g) {
      g && b(e), m[n].d(), f();
    }
  };
}
function ut(s) {
  let e, l, t = (
    /*typeHover*/
    s[42].items
  ), i = [];
  for (let n = 0; n < t.length; n += 1)
    i[n] = xe(Xe(s, t, n));
  const o = (n) => y(i[n], 1, 1, () => {
    i[n] = null;
  });
  return {
    c() {
      for (let n = 0; n < i.length; n += 1)
        i[n].c();
      e = J();
    },
    m(n, r) {
      for (let a = 0; a < i.length; a += 1)
        i[a].m(n, r);
      h(n, e, r), l = !0;
    },
    p(n, r) {
      if (r[0] & /*styles, config, t, captionHeight, mediaHeight, captionWidth, caption, tags, username, avatar, imageHasError, avatarMediaWidth, settings*/
      1564488518 | r[1] & /*typeHover, handleError*/
      18432) {
        t = /*typeHover*/
        n[42].items;
        let a;
        for (a = 0; a < t.length; a += 1) {
          const u = Xe(n, t, a);
          i[a] ? (i[a].p(u, r), v(i[a], 1)) : (i[a] = xe(u), i[a].c(), v(i[a], 1), i[a].m(e.parentNode, e));
        }
        for (V(), a = t.length; a < i.length; a += 1)
          o(a);
        O();
      }
    },
    i(n) {
      if (!l) {
        for (let r = 0; r < t.length; r += 1)
          v(i[r]);
        l = !0;
      }
    },
    o(n) {
      i = i.filter(Boolean);
      for (let r = 0; r < i.length; r += 1)
        y(i[r]);
      l = !1;
    },
    d(n) {
      We(i, n), n && b(e);
    }
  };
}
function ft(s) {
  let e, l;
  return {
    c() {
      e = q("div"), c(e, "class", "sq-media-icon"), c(e, "style", l = `
                background-color: ${/*iconColor*/
      s[18]};
                mask: url(${/*corsVideoIcon*/
      s[31].src}) no-repeat center / contain;
                -webkit-mask: url(${/*corsVideoIcon*/
      s[31].src}) no-repeat center / contain;
                `);
    },
    m(t, i) {
      h(t, e, i);
    },
    p(t, i) {
      i[0] & /*iconColor*/
      262144 | i[1] & /*corsVideoIcon*/
      1 && l !== (l = `
                background-color: ${/*iconColor*/
      t[18]};
                mask: url(${/*corsVideoIcon*/
      t[31].src}) no-repeat center / contain;
                -webkit-mask: url(${/*corsVideoIcon*/
      t[31].src}) no-repeat center / contain;
                `) && c(e, "style", l);
    },
    i: W,
    o: W,
    d(t) {
      t && b(e);
    }
  };
}
function ct(s) {
  let e = (
    /*settings*/
    s[1]?.layout?.loading_type === "button" ? "button" : "a"
  ), l, t = (
    /*settings*/
    (s[1]?.layout?.loading_type === "button" ? "button" : "a") && Ce(s)
  );
  return {
    c() {
      t && t.c(), l = J();
    },
    m(i, o) {
      t && t.m(i, o), h(i, l, o);
    },
    p(i, o) {
      /*settings*/
      i[1]?.layout?.loading_type, e ? X(
        e,
        /*settings*/
        i[1]?.layout?.loading_type === "button" ? "button" : "a"
      ) ? (t.d(1), t = Ce(i), t.c(), t.m(l.parentNode, l)) : t.p(i, o) : (t = Ce(i), t.c(), t.m(l.parentNode, l)), e = /*settings*/
      i[1]?.layout?.loading_type === "button" ? "button" : "a";
    },
    i: W,
    o: W,
    d(i) {
      i && b(l), t && t.d(i);
    }
  };
}
function dt(s) {
  let e, l, t, i, o, n, r, a, u, f;
  return o = new Me({ props: { color: "black" } }), {
    c() {
      e = q("div"), l = q("div"), t = q("div"), i = q("div"), B(o.$$.fragment), n = C(), r = q("span"), a = T(
        /*username*/
        s[8]
      ), u = C(), c(i, "class", "sq-w-[20px] sq-h-[22px]"), c(t, "class", "sq-bg-white sq-w-[45px] sq-h-[45px] sq-rounded-full sq-flex sq-inline-grid sq-items-center	sq-justify-items-center"), c(r, "class", "sq-text-black sq-text-[14px]"), c(l, "class", "sq-bg-white sq-opacity-70 sq-top-0 sq-my-auto sq-mt-2 sq-ml-2 sq-inline-flex sq-place-items-center sq-rounded-full sq-pr-4 "), c(e, "class", "sq-h-full sq-absolute sq-top-0 sq-left-0");
    },
    m(d, _) {
      h(d, e, _), p(e, l), p(l, t), p(t, i), U(o, i, null), p(l, n), p(l, r), p(r, a), p(e, u), f = !0;
    },
    p(d, _) {
      (!f || _[0] & /*username*/
      256) && P(
        a,
        /*username*/
        d[8]
      );
    },
    i(d) {
      f || (v(o.$$.fragment, d), f = !0);
    },
    o(d) {
      y(o.$$.fragment, d), f = !1;
    },
    d(d) {
      d && b(e), G(o);
    }
  };
}
function _t(s) {
  let e, l, t, i, o;
  const n = [vt, bt], r = [];
  function a(u, f) {
    return f[0] & /*avatar*/
    64 && (e = null), e == null && (e = !!Ll(
      /*avatar*/
      u[6]
    )), e ? 0 : 1;
  }
  return l = a(s, [-1, -1]), t = r[l] = n[l](s), {
    c() {
      t.c(), i = J();
    },
    m(u, f) {
      r[l].m(u, f), h(u, i, f), o = !0;
    },
    p(u, f) {
      let d = l;
      l = a(u, f), l === d ? r[l].p(u, f) : (V(), y(r[d], 1, 1, () => {
        r[d] = null;
      }), O(), t = r[l], t ? t.p(u, f) : (t = r[l] = n[l](u), t.c()), v(t, 1), t.m(i.parentNode, i));
    },
    i(u) {
      o || (v(t), o = !0);
    },
    o(u) {
      y(t), o = !1;
    },
    d(u) {
      r[l].d(u), u && b(i);
    }
  };
}
function mt(s) {
  let e, l, t, i, o;
  return {
    c() {
      e = q("p"), l = T("@"), t = T(
        /*username*/
        s[8]
      ), i = C(), c(e, "class", "sq-p-2 !sq-m-0 sq-w-full sq-truncate"), c(e, "style", o = `${/*styles*/
      s[13]?.hover?.username?.css ? E(
        /*styles*/
        s[13].hover.username.css
      ) : ""}`);
    },
    m(n, r) {
      h(n, e, r), p(e, l), p(e, t), p(e, i);
    },
    p(n, r) {
      r[0] & /*username*/
      256 && P(
        t,
        /*username*/
        n[8]
      ), r[0] & /*styles*/
      8192 && o !== (o = `${/*styles*/
      n[13]?.hover?.username?.css ? E(
        /*styles*/
        n[13].hover.username.css
      ) : ""}`) && c(e, "style", o);
    },
    i: W,
    o: W,
    d(n) {
      n && b(e);
    }
  };
}
function pt(s) {
  let e, l = (
    /*tags*/
    s[12][0] ? `#${/*tags*/
    s[12][0]}` : ""
  ), t, i, o;
  return {
    c() {
      e = q("p"), t = T(l), i = C(), c(e, "class", "sq-p-2 !sq-m-0 sq-w-full sq-truncate"), c(e, "style", o = `${/*styles*/
      s[13]?.hover?.css ? E(
        /*styles*/
        s[13].hover.css
      ) : ""}`);
    },
    m(n, r) {
      h(n, e, r), p(e, t), p(e, i);
    },
    p(n, r) {
      r[0] & /*tags*/
      4096 && l !== (l = /*tags*/
      n[12][0] ? `#${/*tags*/
      n[12][0]}` : "") && P(t, l), r[0] & /*styles*/
      8192 && o !== (o = `${/*styles*/
      n[13]?.hover?.css ? E(
        /*styles*/
        n[13].hover.css
      ) : ""}`) && c(e, "style", o);
    },
    i: W,
    o: W,
    d(n) {
      n && b(e);
    }
  };
}
function gt(s) {
  let e, l, t, i, o;
  return {
    c() {
      e = q("p"), l = T(
        /*caption*/
        s[9]
      ), t = C(), c(e, "class", "sq-px-[10%] sq-py-4"), c(e, "style", i = `${/*styles*/
      s[13]?.hover?.css ? E(
        /*styles*/
        s[13].hover.css
      ) : ""} ${/*captionHeight*/
      s[26] > /*mediaHeight*/
      s[28] ? "height: 100%; overflow: hidden;" : ""}`), fe(() => (
        /*p_elementresize_handler*/
        s[50].call(e)
      ));
    },
    m(n, r) {
      h(n, e, r), p(e, l), p(e, t), o = ce(
        e,
        /*p_elementresize_handler*/
        s[50].bind(e)
      );
    },
    p(n, r) {
      r[0] & /*caption*/
      512 && P(
        l,
        /*caption*/
        n[9]
      ), r[0] & /*styles, captionHeight, mediaHeight*/
      335552512 && i !== (i = `${/*styles*/
      n[13]?.hover?.css ? E(
        /*styles*/
        n[13].hover.css
      ) : ""} ${/*captionHeight*/
      n[26] > /*mediaHeight*/
      n[28] ? "height: 100%; overflow: hidden;" : ""}`) && c(e, "style", i);
    },
    i: W,
    o: W,
    d(n) {
      n && b(e), o();
    }
  };
}
function qt(s) {
  let e, l, t = R(
    /*styles*/
    s[13]?.posted?.translations,
    /*config*/
    s[2],
    /*t*/
    s[22]
  ) + "", i, o;
  return {
    c() {
      e = q("p"), l = new Wl(!1), i = C(), l.a = i, c(
        e,
        "class",
        /*typeHover*/
        s[42].items.length > 1 ? "sq-p-2 !sq-m-0 " : "sq-p-5 "
      ), c(e, "style", o = `${/*styles*/
      s[13]?.hover?.css ? E(
        /*styles*/
        s[13].hover.css
      ) : ""}`);
    },
    m(n, r) {
      h(n, e, r), l.m(t, e), p(e, i);
    },
    p(n, r) {
      r[0] & /*styles, config, t*/
      4202500 && t !== (t = R(
        /*styles*/
        n[13]?.posted?.translations,
        /*config*/
        n[2],
        /*t*/
        n[22]
      ) + "") && l.p(t), r[0] & /*styles*/
      8192 && o !== (o = `${/*styles*/
      n[13]?.hover?.css ? E(
        /*styles*/
        n[13].hover.css
      ) : ""}`) && c(e, "style", o);
    },
    i: W,
    o: W,
    d(n) {
      n && b(e);
    }
  };
}
function ht(s) {
  let e, l, t = R(
    /*styles*/
    s[13]?.text?.translations,
    /*config*/
    s[2],
    /*t*/
    s[22]
  ) + "", i, o;
  return {
    c() {
      e = q("p"), l = new Wl(!1), i = C(), l.a = i, c(
        e,
        "class",
        /*typeHover*/
        s[42].items.length > 1 ? "sq-p-2 !sq-m-0 " : "sq-p-5 "
      ), c(e, "style", o = `${/*styles*/
      s[13]?.hover?.css ? E(
        /*styles*/
        s[13].hover.css
      ) : ""}`);
    },
    m(n, r) {
      h(n, e, r), l.m(t, e), p(e, i);
    },
    p(n, r) {
      r[0] & /*styles, config, t*/
      4202500 && t !== (t = R(
        /*styles*/
        n[13]?.text?.translations,
        /*config*/
        n[2],
        /*t*/
        n[22]
      ) + "") && l.p(t), r[0] & /*styles*/
      8192 && o !== (o = `${/*styles*/
      n[13]?.hover?.css ? E(
        /*styles*/
        n[13].hover.css
      ) : ""}`) && c(e, "style", o);
    },
    i: W,
    o: W,
    d(n) {
      n && b(e);
    }
  };
}
function bt(s) {
  let e, l, t, i, o, n;
  return t = new he({
    props: {
      upload: !0,
      size: (
        /*avatarMediaWidth*/
        s[30] / 2
      )
    }
  }), {
    c() {
      e = q("div"), l = q("div"), B(t.$$.fragment), i = C(), c(l, "class", "sq-absolute sq-mx-auto"), c(e, "class", "sq-flex sq-bg-gray sq-rounded-full sq-my-auto sq-place-content-center sq-items-center"), Z(e, "width", "33%"), Z(
        e,
        "height",
        /*avatarMediaWidth*/
        s[30] + "px"
      ), fe(() => (
        /*div1_elementresize_handler_1*/
        s[52].call(e)
      ));
    },
    m(r, a) {
      h(r, e, a), p(e, l), U(t, l, null), p(e, i), o = ce(
        e,
        /*div1_elementresize_handler_1*/
        s[52].bind(e)
      ), n = !0;
    },
    p(r, a) {
      const u = {};
      a[0] & /*avatarMediaWidth*/
      1073741824 && (u.size = /*avatarMediaWidth*/
      r[30] / 2), t.$set(u), (!n || a[0] & /*avatarMediaWidth*/
      1073741824) && Z(
        e,
        "height",
        /*avatarMediaWidth*/
        r[30] + "px"
      );
    },
    i(r) {
      n || (v(t.$$.fragment, r), n = !0);
    },
    o(r) {
      y(t.$$.fragment, r), n = !1;
    },
    d(r) {
      r && b(e), G(t), o();
    }
  };
}
function vt(s) {
  let e, l, t, i;
  const o = [yt, kt], n = [];
  function r(a, u) {
    return (
      /*imageHasError*/
      a[24] ? 1 : 0
    );
  }
  return e = r(s), l = n[e] = o[e](s), {
    c() {
      l.c(), t = J();
    },
    m(a, u) {
      n[e].m(a, u), h(a, t, u), i = !0;
    },
    p(a, u) {
      let f = e;
      e = r(a), e === f ? n[e].p(a, u) : (V(), y(n[f], 1, 1, () => {
        n[f] = null;
      }), O(), l = n[e], l ? l.p(a, u) : (l = n[e] = o[e](a), l.c()), v(l, 1), l.m(t.parentNode, t));
    },
    i(a) {
      i || (v(l), i = !0);
    },
    o(a) {
      y(l), i = !1;
    },
    d(a) {
      n[e].d(a), a && b(t);
    }
  };
}
function kt(s) {
  let e, l, t, i, o, n;
  return t = new he({
    props: {
      upload: !0,
      size: (
        /*avatarMediaWidth*/
        s[30] / 2
      )
    }
  }), {
    c() {
      e = q("div"), l = q("div"), B(t.$$.fragment), i = C(), c(l, "class", "sq-absolute sq-mx-auto"), c(e, "class", "sq-flex sq-bg-gray sq-rounded-full sq-my-auto sq-place-content-center sq-items-center"), Z(e, "width", "33%"), Z(
        e,
        "height",
        /*avatarMediaWidth*/
        s[30] + "px"
      ), fe(() => (
        /*div1_elementresize_handler*/
        s[51].call(e)
      ));
    },
    m(r, a) {
      h(r, e, a), p(e, l), U(t, l, null), p(e, i), o = ce(
        e,
        /*div1_elementresize_handler*/
        s[51].bind(e)
      ), n = !0;
    },
    p(r, a) {
      const u = {};
      a[0] & /*avatarMediaWidth*/
      1073741824 && (u.size = /*avatarMediaWidth*/
      r[30] / 2), t.$set(u), (!n || a[0] & /*avatarMediaWidth*/
      1073741824) && Z(
        e,
        "height",
        /*avatarMediaWidth*/
        r[30] + "px"
      );
    },
    i(r) {
      n || (v(t.$$.fragment, r), n = !0);
    },
    o(r) {
      y(t.$$.fragment, r), n = !1;
    },
    d(r) {
      r && b(e), G(t), o();
    }
  };
}
function yt(s) {
  let e, l, t, i;
  return {
    c() {
      e = q("img"), c(e, "alt", "avatar"), H(e.src, l = /*avatar*/
      s[6]) || c(e, "src", l), c(e, "class", "sq-avatar ");
    },
    m(o, n) {
      h(o, e, n), t || (i = I(
        e,
        "error",
        /*handleError*/
        s[45]
      ), t = !0);
    },
    p(o, n) {
      n[0] & /*avatar*/
      64 && !H(e.src, l = /*avatar*/
      o[6]) && c(e, "src", l);
    },
    i: W,
    o: W,
    d(o) {
      o && b(e), t = !1, i();
    }
  };
}
function xe(s) {
  let e, l, t, i;
  const o = [
    ht,
    qt,
    gt,
    pt,
    mt,
    _t,
    dt
  ], n = [];
  function r(a, u) {
    return (
      /*item*/
      a[55] === "text" ? 0 : (
        /*item*/
        a[55] === "posted" ? 1 : (
          /*item*/
          a[55] === "caption" ? 2 : (
            /*item*/
            a[55] === "hashtag" && /*tags*/
            a[12] ? 3 : (
              /*item*/
              a[55] === "user" ? 4 : (
                /*item*/
                a[55] === "avatar" ? 5 : (
                  /*item*/
                  a[55] === "icon" && /*username*/
                  a[8] && /*settings*/
                  a[1]?.layout?.layout_type !== "row-product" ? 6 : -1
                )
              )
            )
          )
        )
      )
    );
  }
  return ~(e = r(s)) && (l = n[e] = o[e](s)), {
    c() {
      l && l.c(), t = J();
    },
    m(a, u) {
      ~e && n[e].m(a, u), h(a, t, u), i = !0;
    },
    p(a, u) {
      let f = e;
      e = r(a), e === f ? ~e && n[e].p(a, u) : (l && (V(), y(n[f], 1, 1, () => {
        n[f] = null;
      }), O()), ~e ? (l = n[e], l ? l.p(a, u) : (l = n[e] = o[e](a), l.c()), v(l, 1), l.m(t.parentNode, t)) : l = null);
    },
    i(a) {
      i || (v(l), i = !0);
    },
    o(a) {
      y(l), i = !1;
    },
    d(a) {
      ~e && n[e].d(a), a && b(t);
    }
  };
}
function Ce(s) {
  let e, l = R(
    /*settings*/
    s[1]?.load_more?.translations,
    /*config*/
    s[2],
    /*t*/
    s[22]
  ) + "", t, i, o, n, r = [
    {
      class: t = /*settings*/
      s[1]?.layout?.loading_type === "button" ? (
        /*settings*/
        s[1]?.buttons?.class
      ) : "sq-cursor-pointer"
    },
    {
      style: i = E(
        /*settings*/
        s[1]?.load_more?.css ?? {}
      )
    }
  ], a = {};
  for (let u = 0; u < r.length; u += 1)
    a = zl(a, r[u]);
  return {
    c() {
      e = q(
        /*settings*/
        s[1]?.layout?.loading_type === "button" ? "button" : "a"
      ), /-/.test(
        /*settings*/
        s[1]?.layout?.loading_type === "button" ? "button" : "a"
      ) ? pe(e, a) : ge(e, a);
    },
    m(u, f) {
      h(u, e, f), e.innerHTML = l, o || (n = [
        I(e, "keypress", null),
        I(e, "click", function() {
          _e(
            /*onloadmore*/
            s[19]
          ) && s[19].apply(this, arguments);
        })
      ], o = !0);
    },
    p(u, f) {
      s = u, f[0] & /*settings, config, t*/
      4194310 && l !== (l = R(
        /*settings*/
        s[1]?.load_more?.translations,
        /*config*/
        s[2],
        /*t*/
        s[22]
      ) + "") && (e.innerHTML = l), a = Cl(r, [
        f[0] & /*settings*/
        2 && t !== (t = /*settings*/
        s[1]?.layout?.loading_type === "button" ? (
          /*settings*/
          s[1]?.buttons?.class
        ) : "sq-cursor-pointer") && { class: t },
        f[0] & /*settings*/
        2 && i !== (i = E(
          /*settings*/
          s[1]?.load_more?.css ?? {}
        )) && { style: i }
      ]), /-/.test(
        /*settings*/
        s[1]?.layout?.loading_type === "button" ? "button" : "a"
      ) ? pe(e, a) : ge(e, a);
    },
    d(u) {
      u && b(e), o = !1, te(n);
    }
  };
}
function el(s) {
  let e, l, t = ne.getValue("full") === /*postType*/
  s[4] && /*settings*/
  s[1]?.card?.caption?.active !== "0", i, o = ne.getValue("full") === /*postType*/
  s[4] && /*settings*/
  s[1]?.card?.owner?.active !== "0", n, r = t && ll(s), a = o && sl(s);
  return {
    c() {
      e = q("div"), l = q("div"), r && r.c(), i = C(), a && a.c(), c(
        l,
        "style",
        /*cardStyles*/
        s[41]
      );
    },
    m(u, f) {
      h(u, e, f), p(e, l), r && r.m(l, null), p(l, i), a && a.m(l, null), n = !0;
    },
    p(u, f) {
      f[0] & /*postType, settings*/
      18 && (t = ne.getValue("full") === /*postType*/
      u[4] && /*settings*/
      u[1]?.card?.caption?.active !== "0"), t ? r ? r.p(u, f) : (r = ll(u), r.c(), r.m(l, i)) : r && (r.d(1), r = null), f[0] & /*postType, settings*/
      18 && (o = ne.getValue("full") === /*postType*/
      u[4] && /*settings*/
      u[1]?.card?.owner?.active !== "0"), o ? a ? (a.p(u, f), f[0] & /*postType, settings*/
      18 && v(a, 1)) : (a = sl(u), a.c(), v(a, 1), a.m(l, null)) : a && (V(), y(a, 1, 1, () => {
        a = null;
      }), O()), (!n || f[1] & /*cardStyles*/
      1024) && c(
        l,
        "style",
        /*cardStyles*/
        u[41]
      );
    },
    i(u) {
      n || (v(a), n = !0);
    },
    o(u) {
      y(a), n = !1;
    },
    d(u) {
      u && b(e), r && r.d(), a && a.d();
    }
  };
}
function ll(s) {
  let e, l, t = (
    /*styles*/
    (s[13].caption?.["max-chars"] && /*caption*/
    s[9] !== null ? `${/*caption*/
    s[9].substring(
      0,
      /*styles*/
      s[13].caption["max-chars"]
    )}...` : (
      /*caption*/
      s[9]
    )) + ""
  ), i, o, n = (
    /*styles*/
    s[13].caption?.translations && tl(s)
  );
  return {
    c() {
      e = q("p"), n && n.c(), l = C(), i = T(t), c(e, "class", o = `sq-text-xs sq-mb-3 sq-leading-6 ${/*captionClass*/
      s[40] || ""}`), c(
        e,
        "style",
        /*captionStyle*/
        s[39]
      );
    },
    m(r, a) {
      h(r, e, a), n && n.m(e, null), p(e, l), p(e, i);
    },
    p(r, a) {
      /*styles*/
      r[13].caption?.translations ? n ? n.p(r, a) : (n = tl(r), n.c(), n.m(e, l)) : n && (n.d(1), n = null), a[0] & /*styles, caption*/
      8704 && t !== (t = /*styles*/
      (r[13].caption?.["max-chars"] && /*caption*/
      r[9] !== null ? `${/*caption*/
      r[9].substring(
        0,
        /*styles*/
        r[13].caption["max-chars"]
      )}...` : (
        /*caption*/
        r[9]
      )) + "") && P(i, t), a[1] & /*captionClass*/
      512 && o !== (o = `sq-text-xs sq-mb-3 sq-leading-6 ${/*captionClass*/
      r[40] || ""}`) && c(e, "class", o), a[1] & /*captionStyle*/
      256 && c(
        e,
        "style",
        /*captionStyle*/
        r[39]
      );
    },
    d(r) {
      r && b(e), n && n.d();
    }
  };
}
function tl(s) {
  let e = R(
    /*styles*/
    s[13]?.caption?.translations,
    /*config*/
    s[2],
    /*t*/
    s[22]
  ) + "", l;
  return {
    c() {
      l = T(e);
    },
    m(t, i) {
      h(t, l, i);
    },
    p(t, i) {
      i[0] & /*styles, config, t*/
      4202500 && e !== (e = R(
        /*styles*/
        t[13]?.caption?.translations,
        /*config*/
        t[2],
        /*t*/
        t[22]
      ) + "") && P(l, e);
    },
    d(t) {
      t && b(l);
    }
  };
}
function sl(s) {
  let e, l, t, i, o, n = (
    /*avatar*/
    s[6] !== void 0 && /*settings*/
    s[1]?.card?.owner?.type === "full" && il(s)
  ), r = (
    /*username*/
    s[8] !== void 0 && nl(s)
  ), a = (
    /*source*/
    s[7] !== void 0 && /*settings*/
    s[1]?.card?.owner?.type === "full" && al(s)
  );
  return {
    c() {
      e = q("div"), n && n.c(), l = C(), t = q("div"), r && r.c(), i = C(), a && a.c(), c(t, "class", "sq-flex sq-flex-col sq-items-start sq-justify-center"), c(e, "class", "sq-flex");
    },
    m(u, f) {
      h(u, e, f), n && n.m(e, null), p(e, l), p(e, t), r && r.m(t, null), p(t, i), a && a.m(t, null), o = !0;
    },
    p(u, f) {
      /*avatar*/
      u[6] !== void 0 && /*settings*/
      u[1]?.card?.owner?.type === "full" ? n ? (n.p(u, f), f[0] & /*avatar, settings*/
      66 && v(n, 1)) : (n = il(u), n.c(), v(n, 1), n.m(e, l)) : n && (V(), y(n, 1, 1, () => {
        n = null;
      }), O()), /*username*/
      u[8] !== void 0 ? r ? r.p(u, f) : (r = nl(u), r.c(), r.m(t, i)) : r && (r.d(1), r = null), /*source*/
      u[7] !== void 0 && /*settings*/
      u[1]?.card?.owner?.type === "full" ? a ? a.p(u, f) : (a = al(u), a.c(), a.m(t, null)) : a && (a.d(1), a = null);
    },
    i(u) {
      o || (v(n), o = !0);
    },
    o(u) {
      y(n), o = !1;
    },
    d(u) {
      u && b(e), n && n.d(), r && r.d(), a && a.d();
    }
  };
}
function il(s) {
  let e, l, t, i, o;
  const n = [zt, wt], r = [];
  function a(u, f) {
    return f[0] & /*avatar*/
    64 && (e = null), e == null && (e = !!Ll(
      /*avatar*/
      u[6]
    )), e ? 0 : 1;
  }
  return l = a(s, [-1, -1]), t = r[l] = n[l](s), {
    c() {
      t.c(), i = J();
    },
    m(u, f) {
      r[l].m(u, f), h(u, i, f), o = !0;
    },
    p(u, f) {
      let d = l;
      l = a(u, f), l === d ? r[l].p(u, f) : (V(), y(r[d], 1, 1, () => {
        r[d] = null;
      }), O(), t = r[l], t ? t.p(u, f) : (t = r[l] = n[l](u), t.c()), v(t, 1), t.m(i.parentNode, i));
    },
    i(u) {
      o || (v(t), o = !0);
    },
    o(u) {
      y(t), o = !1;
    },
    d(u) {
      r[l].d(u), u && b(i);
    }
  };
}
function wt(s) {
  let e, l;
  return e = new he({}), {
    c() {
      B(e.$$.fragment);
    },
    m(t, i) {
      U(e, t, i), l = !0;
    },
    p: W,
    i(t) {
      l || (v(e.$$.fragment, t), l = !0);
    },
    o(t) {
      y(e.$$.fragment, t), l = !1;
    },
    d(t) {
      G(e, t);
    }
  };
}
function zt(s) {
  let e, l, t, i;
  const o = [Lt, Ct], n = [];
  function r(a, u) {
    return (
      /*imageHasError*/
      a[24] ? 1 : 0
    );
  }
  return e = r(s), l = n[e] = o[e](s), {
    c() {
      l.c(), t = J();
    },
    m(a, u) {
      n[e].m(a, u), h(a, t, u), i = !0;
    },
    p(a, u) {
      let f = e;
      e = r(a), e === f ? n[e].p(a, u) : (V(), y(n[f], 1, 1, () => {
        n[f] = null;
      }), O(), l = n[e], l ? l.p(a, u) : (l = n[e] = o[e](a), l.c()), v(l, 1), l.m(t.parentNode, t));
    },
    i(a) {
      i || (v(l), i = !0);
    },
    o(a) {
      y(l), i = !1;
    },
    d(a) {
      n[e].d(a), a && b(t);
    }
  };
}
function Ct(s) {
  let e, l;
  return e = new he({}), {
    c() {
      B(e.$$.fragment);
    },
    m(t, i) {
      U(e, t, i), l = !0;
    },
    p: W,
    i(t) {
      l || (v(e.$$.fragment, t), l = !0);
    },
    o(t) {
      y(e.$$.fragment, t), l = !1;
    },
    d(t) {
      G(e, t);
    }
  };
}
function Lt(s) {
  let e, l, t, i;
  return {
    c() {
      e = q("img"), c(e, "alt", "avatar"), H(e.src, l = /*avatar*/
      s[6]) || c(e, "src", l), c(e, "class", "sq-avatar-masonry sq-mr-3");
    },
    m(o, n) {
      h(o, e, n), t || (i = I(
        e,
        "error",
        /*handleError*/
        s[45]
      ), t = !0);
    },
    p(o, n) {
      n[0] & /*avatar*/
      64 && !H(e.src, l = /*avatar*/
      o[6]) && c(e, "src", l);
    },
    i: W,
    o: W,
    d(o) {
      o && b(e), t = !1, i();
    }
  };
}
function nl(s) {
  let e, l, t, i = (
    /*settings*/
    s[1]?.card?.owner?.type !== "full" && ol()
  );
  return {
    c() {
      e = q("span"), i && i.c(), l = T(
        /*getUsername*/
        s[36]
      ), c(e, "class", t = `sq-font-bold sq-text-xs ${/*ownerClass*/
      s[38] || ""}`), c(
        e,
        "style",
        /*usernameStyle*/
        s[37]
      );
    },
    m(o, n) {
      h(o, e, n), i && i.m(e, null), p(e, l);
    },
    p(o, n) {
      /*settings*/
      o[1]?.card?.owner?.type !== "full" ? i || (i = ol(), i.c(), i.m(e, l)) : i && (i.d(1), i = null), n[1] & /*getUsername*/
      32 && P(
        l,
        /*getUsername*/
        o[36]
      ), n[1] & /*ownerClass*/
      128 && t !== (t = `sq-font-bold sq-text-xs ${/*ownerClass*/
      o[38] || ""}`) && c(e, "class", t), n[1] & /*usernameStyle*/
      64 && c(
        e,
        "style",
        /*usernameStyle*/
        o[37]
      );
    },
    d(o) {
      o && b(e), i && i.d();
    }
  };
}
function ol(s) {
  let e;
  return {
    c() {
      e = q("span"), e.textContent = "@";
    },
    m(l, t) {
      h(l, e, t);
    },
    d(l) {
      l && b(e);
    }
  };
}
function al(s) {
  let e, l, t;
  return {
    c() {
      e = q("span"), l = T(
        /*source*/
        s[7]
      ), c(e, "class", t = "sq-pt-2 sq-text-xs " + /*captionClass*/
      (s[40] || "")), c(
        e,
        "style",
        /*captionStyle*/
        s[39]
      );
    },
    m(i, o) {
      h(i, e, o), p(e, l);
    },
    p(i, o) {
      o[0] & /*source*/
      128 && P(
        l,
        /*source*/
        i[7]
      ), o[1] & /*captionClass*/
      512 && t !== (t = "sq-pt-2 sq-text-xs " + /*captionClass*/
      (i[40] || "")) && c(e, "class", t), o[1] & /*captionStyle*/
      256 && c(
        e,
        "style",
        /*captionStyle*/
        i[39]
      );
    },
    d(i) {
      i && b(e);
    }
  };
}
function Wt(s) {
  let e, l, t, i, o, n, r, a, u = (
    /*postType*/
    s[4] !== ne.getValue("clean") && ne.getOptionsOnArray().includes(
      /*postType*/
      s[4]
    )
  ), f, d, _, m, k, g, w, L, j, ee, oe, S = (
    /*hasHoverLoadMore*/
    s[21] && Je(s)
  );
  function se(N, M) {
    return M[0] & /*media_type, autoplay*/
    2049 | M[1] & /*isTiktokVideo*/
    2 && (o = null), o == null && (o = !!/*media_type*/
    (N[0] === "image" || /*media_type*/
    N[0]?.includes("carousel") || !/*autoplay*/
    N[11] && /*media_type*/
    N[0] === "video" && !/*isTiktokVideo*/
    N[32])), o ? rt : at;
  }
  let ae = se(s, [-1, -1]), Y = ae(s), A = (
    /*settings*/
    s[1]?.media?.hover?.type === "icon-username" && /*settings*/
    s[1]?.layout?.layout_type !== "row-product" && /*innerWidth*/
    s[10] > 480 && Ke(s)
  ), F = (
    /*styles*/
    s[13]?.hover && !/*hasHoverLoadMore*/
    s[21] && /*innerWidth*/
    s[10] > 480 && $e(s)
  ), D = u && el(s);
  return d = new ot({
    props: {
      settings: (
        /*settings*/
        s[1]
      ),
      t: (
        /*t*/
        s[22]
      ),
      productsArray: (
        /*productsArray*/
        s[43]
      ),
      config: (
        /*config*/
        s[2]
      )
    }
  }), m = new st({
    props: {
      settings: (
        /*settings*/
        s[1]
      ),
      mediaWidth: (
        /*mediaWidth*/
        s[29]
      ),
      avatar: (
        /*avatar*/
        s[6]
      ),
      username: (
        /*username*/
        s[8]
      ),
      productsArray: (
        /*productsArray*/
        s[43]
      ),
      config: (
        /*config*/
        s[2]
      ),
      innerWidth: (
        /*innerWidth*/
        s[10]
      )
    }
  }), {
    c() {
      e = q("div"), l = q("div"), t = q("div"), S && S.c(), i = C(), Y.c(), n = C(), A && A.c(), r = C(), F && F.c(), a = C(), D && D.c(), f = C(), B(d.$$.fragment), _ = C(), B(m.$$.fragment), c(t, "class", "sq-post-image sq-fade-in-image"), c(
        t,
        "style",
        /*getAspectRatio*/
        s[33]
      ), c(l, "class", k = `sq-post ${/*settings*/
      s[1]?.layout?.layout_type === "row-product" ? "sq-flex sq-flex-col" : ""} ${/*styles*/
      s[13]?.class ?? ""} ${/*innerWidth*/
      s[10] > 480 ? "sq-h-full" : ""}`), c(l, "style", g = `
            border-radius: ${/*settings*/
      s[1]?.css["border-radius"]};
            background-color: ${/*settings*/
      s[1]?.card?.css["background-color"]};
            ${/*settings*/
      s[1]?.layout?.layout_type === "row-product" ? "" : (
        /*getAspectRatio*/
        s[33]
      )}
          `), c(e, "class", w = "sq-w-full sq-cursor-pointer " + /*innerWidth*/
      (s[10] > 480 ? "sq-h-full" : "")), c(e, "style", L = `--item: ${/*id*/
      s[3]};`), c(
        e,
        "data-postid",
        /*id*/
        s[3]
      );
    },
    m(N, M) {
      h(N, e, M), p(e, l), p(l, t), S && S.m(t, null), p(t, i), Y.m(t, null), p(t, n), A && A.m(t, null), p(t, r), F && F.m(t, null), p(l, a), D && D.m(l, null), p(l, f), U(d, l, null), p(l, _), U(m, l, null), j = !0, ee || (oe = [
        I(
          t,
          "mouseenter",
          /*handleHover*/
          s[44]
        ),
        I(
          t,
          "mouseleave",
          /*handleHover*/
          s[44]
        ),
        I(l, "keypress", null),
        I(l, "click", function() {
          _e(
            /*settings*/
            s[1]?.popup?.type === "fullpage" ? window.open(R(
              /*settings*/
              s[1]?.popup?.fullpage_url?.translations,
              /*config*/
              s[2],
              /*t*/
              s[22]
            ) + "#sqln-id-" + /*media_id*/
            s[5], "_self") : (
              /*onclick*/
              s[14]
            )
          ) && /*settings*/
          (s[1]?.popup?.type === "fullpage" ? window.open(R(
            /*settings*/
            s[1]?.popup?.fullpage_url?.translations,
            /*config*/
            s[2],
            /*t*/
            s[22]
          ) + "#sqln-id-" + /*media_id*/
          s[5], "_self") : (
            /*onclick*/
            s[14]
          )).apply(this, arguments);
        }),
        Sl(Zl.call(null, e)),
        I(e, "enter", function() {
          _e(
            /*onvisible*/
            s[15]
          ) && s[15].apply(this, arguments);
        })
      ], ee = !0);
    },
    p(N, M) {
      s = N, /*hasHoverLoadMore*/
      s[21] ? S ? S.p(s, M) : (S = Je(s), S.c(), S.m(t, i)) : S && (S.d(1), S = null), ae === (ae = se(s, M)) && Y ? Y.p(s, M) : (Y.d(1), Y = ae(s), Y && (Y.c(), Y.m(t, n))), /*settings*/
      s[1]?.media?.hover?.type === "icon-username" && /*settings*/
      s[1]?.layout?.layout_type !== "row-product" && /*innerWidth*/
      s[10] > 480 ? A ? (A.p(s, M), M[0] & /*settings, innerWidth*/
      1026 && v(A, 1)) : (A = Ke(s), A.c(), v(A, 1), A.m(t, r)) : A && (V(), y(A, 1, 1, () => {
        A = null;
      }), O()), /*styles*/
      s[13]?.hover && !/*hasHoverLoadMore*/
      s[21] && /*innerWidth*/
      s[10] > 480 ? F ? (F.p(s, M), M[0] & /*styles, hasHoverLoadMore, innerWidth*/
      2106368 && v(F, 1)) : (F = $e(s), F.c(), v(F, 1), F.m(t, null)) : F && (V(), y(F, 1, 1, () => {
        F = null;
      }), O()), (!j || M[1] & /*getAspectRatio*/
      4) && c(
        t,
        "style",
        /*getAspectRatio*/
        s[33]
      ), M[0] & /*postType*/
      16 && (u = /*postType*/
      s[4] !== ne.getValue("clean") && ne.getOptionsOnArray().includes(
        /*postType*/
        s[4]
      )), u ? D ? (D.p(s, M), M[0] & /*postType*/
      16 && v(D, 1)) : (D = el(s), D.c(), v(D, 1), D.m(l, f)) : D && (V(), y(D, 1, 1, () => {
        D = null;
      }), O());
      const re = {};
      M[0] & /*settings*/
      2 && (re.settings = /*settings*/
      s[1]), M[0] & /*t*/
      4194304 && (re.t = /*t*/
      s[22]), M[0] & /*config*/
      4 && (re.config = /*config*/
      s[2]), d.$set(re);
      const K = {};
      M[0] & /*settings*/
      2 && (K.settings = /*settings*/
      s[1]), M[0] & /*mediaWidth*/
      536870912 && (K.mediaWidth = /*mediaWidth*/
      s[29]), M[0] & /*avatar*/
      64 && (K.avatar = /*avatar*/
      s[6]), M[0] & /*username*/
      256 && (K.username = /*username*/
      s[8]), M[0] & /*config*/
      4 && (K.config = /*config*/
      s[2]), M[0] & /*innerWidth*/
      1024 && (K.innerWidth = /*innerWidth*/
      s[10]), m.$set(K), (!j || M[0] & /*settings, styles, innerWidth*/
      9218 && k !== (k = `sq-post ${/*settings*/
      s[1]?.layout?.layout_type === "row-product" ? "sq-flex sq-flex-col" : ""} ${/*styles*/
      s[13]?.class ?? ""} ${/*innerWidth*/
      s[10] > 480 ? "sq-h-full" : ""}`)) && c(l, "class", k), (!j || M[0] & /*settings*/
      2 | M[1] & /*getAspectRatio*/
      4 && g !== (g = `
            border-radius: ${/*settings*/
      s[1]?.css["border-radius"]};
            background-color: ${/*settings*/
      s[1]?.card?.css["background-color"]};
            ${/*settings*/
      s[1]?.layout?.layout_type === "row-product" ? "" : (
        /*getAspectRatio*/
        s[33]
      )}
          `)) && c(l, "style", g), (!j || M[0] & /*innerWidth*/
      1024 && w !== (w = "sq-w-full sq-cursor-pointer " + /*innerWidth*/
      (s[10] > 480 ? "sq-h-full" : ""))) && c(e, "class", w), (!j || M[0] & /*id*/
      8 && L !== (L = `--item: ${/*id*/
      s[3]};`)) && c(e, "style", L), (!j || M[0] & /*id*/
      8) && c(
        e,
        "data-postid",
        /*id*/
        s[3]
      );
    },
    i(N) {
      j || (v(A), v(F), v(D), v(d.$$.fragment, N), v(m.$$.fragment, N), j = !0);
    },
    o(N) {
      y(A), y(F), y(D), y(d.$$.fragment, N), y(m.$$.fragment, N), j = !1;
    },
    d(N) {
      N && b(e), S && S.d(), Y.d(), A && A.d(), F && F.d(), D && D.d(), G(d), G(m), ee = !1, te(oe);
    }
  };
}
function Mt(s, e, l) {
  let t, i, o, n, r, a, u, f, d, _, { settings: m = null } = e, { config: k = null } = e, { id: g } = e, { postType: w = null } = e, { media_data: L = void 0 } = e, { media_type: j = "image" } = e, { media_id: ee } = e, { avatar: oe = void 0 } = e, { source: S = void 0 } = e, { username: se = void 0 } = e, { caption: ae = void 0 } = e, { innerWidth: Y } = e, { autoplay: A = !1 } = e, { tags: F = [] } = e, { styles: D = {} } = e, { products: N = [] } = e, { onclick: M } = e, { onvisible: re } = e, { onloadmedia: K } = e, { videoIcon: me = null } = e, { iconColor: Ee = null } = e, { onloadmore: De = () => {
  } } = e, { withLoadmore: Ie = !1 } = e, { hasHoverLoadMore: He = !1 } = e, { t: Te } = e, Dl = Fl(D?.hover?.type), je = !1, Ae = !1, ie, be, ve, ke, ye, de, Il = typeof N != "object" ? N : Object.values(N);
  if (j === "image" || j?.includes("carousel") || !A && j === "video")
    if (L !== void 0 && L[0] !== void 0 && L[0]?.url) {
      const z = j === "video" ? L[1].url : L[0].url;
      let le;
      Y > 480 ? le = "?tr=w-" + Math.round(document.documentElement.clientWidth / m?.layout?.images_per_row) : le = "?tr=w-" + Math.round(document.documentElement.clientWidth / m?.mobile_settings?.layout?.layout_type?.split("x")[0]), ie = z + le;
    } else
      ie = L[0][0].url;
  else
    ie = A ? Bl(L.filter((le) => le.type === "video")[0]?.url) : L.filter((le) => le.type === "image")[0]?.url;
  ie = ue(ie, "q", m?.media?.quality);
  function Hl(z) {
    l(25, Ae = z.type === "mouseenter");
    const le = z.target.querySelector("video"), ze = z.target.querySelector("img");
    le && D?.hover?.zoom === "2" && (z.type === "mouseenter" ? le.play() : le.pause()), ze && D?.hover?.zoom === "2" && j?.includes("carousel") && (z.type === "mouseenter" ? (L[1]?.type, ze.src = L[1][0]?.type?.toLowerCase() === "video" ? L[1][0]?.url + "/ik-thumbnail.jpg" : L[1]?.url) : ze.src = L[0]?.url);
  }
  const Tl = (z) => {
    l(24, je = !0);
  }, we = new Image();
  we.crossOrigin = "Anonymous", me && (we.src = me + "?not-from-cache-please");
  const jl = () => K(u), Al = () => K(f);
  function Nl() {
    be = this.clientHeight, ve = this.clientWidth, l(26, be), l(27, ve);
  }
  function Pl() {
    de = this.clientWidth, l(30, de);
  }
  function Vl() {
    de = this.clientWidth, l(30, de);
  }
  function Ol() {
    ke = this.clientHeight, ye = this.clientWidth, l(28, ke), l(29, ye);
  }
  return s.$$set = (z) => {
    "settings" in z && l(1, m = z.settings), "config" in z && l(2, k = z.config), "id" in z && l(3, g = z.id), "postType" in z && l(4, w = z.postType), "media_data" in z && l(46, L = z.media_data), "media_type" in z && l(0, j = z.media_type), "media_id" in z && l(5, ee = z.media_id), "avatar" in z && l(6, oe = z.avatar), "source" in z && l(7, S = z.source), "username" in z && l(8, se = z.username), "caption" in z && l(9, ae = z.caption), "innerWidth" in z && l(10, Y = z.innerWidth), "autoplay" in z && l(11, A = z.autoplay), "tags" in z && l(12, F = z.tags), "styles" in z && l(13, D = z.styles), "products" in z && l(47, N = z.products), "onclick" in z && l(14, M = z.onclick), "onvisible" in z && l(15, re = z.onvisible), "onloadmedia" in z && l(16, K = z.onloadmedia), "videoIcon" in z && l(17, me = z.videoIcon), "iconColor" in z && l(18, Ee = z.iconColor), "onloadmore" in z && l(19, De = z.onloadmore), "withLoadmore" in z && l(20, Ie = z.withLoadmore), "hasHoverLoadMore" in z && l(21, He = z.hasHoverLoadMore), "t" in z && l(22, Te = z.t);
  }, s.$$.update = () => {
    s.$$.dirty[0] & /*settings*/
    2 && l(41, t = m.layout.layout_type.includes("masonry") ? "padding-top:" + m?.card?.css["padding-top"] + ";padding-bottom:" + m?.card?.css["padding-bottom"] + ";padding-right:" + m?.card?.css["padding-right"] + ";padding-left:" + m?.card?.css["padding-left"] + ";" : ""), s.$$.dirty[0] & /*media_type*/
    1 && l(0, j = j.toLowerCase()), s.$$.dirty[0] & /*settings, styles*/
    8194 && l(40, i = m.layout.layout_type.includes("masonry") ? m?.card?.caption?.class : D?.caption?.class), s.$$.dirty[0] & /*settings, styles*/
    8194 && l(39, o = m.layout.layout_type.includes("masonry") ? m?.card?.caption?.css ? E(m?.card?.caption?.css) : "" : D?.caption?.css ? E(D.caption.css) : ""), s.$$.dirty[0] & /*settings, styles*/
    8194 && l(38, n = m.layout.layout_type.includes("masonry") ? m?.card?.owner?.class : D?.text?.class), s.$$.dirty[0] & /*settings, styles*/
    8194 && l(37, r = m.layout.layout_type.includes("masonry") ? m?.card?.owner?.css ? E(m?.card?.owner?.css) : "" : D?.text?.css ? E(D.caption.css) : ""), s.$$.dirty[0] & /*username*/
    256 && l(36, a = se !== null && se.length > 20 ? `${se.substring(0, 20)}...` : se), s.$$.dirty[0] & /*autoplay, media_type*/
    2049, s.$$.dirty[0] & /*src, media_id*/
    8388640 && l(35, u = { type: "IMAGE", url: ie, id: ee }), s.$$.dirty[0] & /*src, media_id*/
    8388640 && l(34, f = { type: "VIDEO", url: ie, id: ee }), s.$$.dirty[0] & /*settings*/
    2 && l(33, d = m.layout.layout_type?.includes("masonry") ? "" : "aspect-ratio: " + m?.layout.image_ratio?.replace(":", "/") + ";"), s.$$.dirty[0] & /*media_type*/
    1 | s.$$.dirty[1] & /*media_data*/
    32768 && l(32, _ = j === "video" && L[0][0]?.url?.includes("/TiktokVideo/"));
  }, [
    j,
    m,
    k,
    g,
    w,
    ee,
    oe,
    S,
    se,
    ae,
    Y,
    A,
    F,
    D,
    M,
    re,
    K,
    me,
    Ee,
    De,
    Ie,
    He,
    Te,
    ie,
    je,
    Ae,
    be,
    ve,
    ke,
    ye,
    de,
    we,
    _,
    d,
    f,
    u,
    a,
    r,
    n,
    o,
    i,
    t,
    Dl,
    Il,
    Hl,
    Tl,
    L,
    N,
    jl,
    Al,
    Nl,
    Pl,
    Vl,
    Ol
  ];
}
class rs extends $ {
  constructor(e) {
    super(), x(
      this,
      e,
      Mt,
      Wt,
      X,
      {
        settings: 1,
        config: 2,
        id: 3,
        postType: 4,
        media_data: 46,
        media_type: 0,
        media_id: 5,
        avatar: 6,
        source: 7,
        username: 8,
        caption: 9,
        innerWidth: 10,
        autoplay: 11,
        tags: 12,
        styles: 13,
        products: 47,
        onclick: 14,
        onvisible: 15,
        onloadmedia: 16,
        videoIcon: 17,
        iconColor: 18,
        onloadmore: 19,
        withLoadmore: 20,
        hasHoverLoadMore: 21,
        t: 22
      },
      null,
      [-1, -1]
    );
  }
}
function Et(s) {
  let e, l, t, i, o, n, r, a, u, f, d = (
    /*mediaData*/
    (s[2]?.owner?.image || /*getUsername*/
    s[5]) && rl(s)
  );
  const _ = [Ht, It], m = [];
  function k(g, w) {
    return (
      /*settings*/
      g[1]?.icons?.close_icon ? 0 : 1
    );
  }
  return n = k(s), r = m[n] = _[n](s), {
    c() {
      e = q("div"), d && d.c(), l = C(), t = q("div"), i = C(), o = q("div"), r.c(), c(t, "class", "sq-close-button sq-bg-[#3a3a3a] sq-opacity-40 sq-rounded-full sq-h-[35px] sq-w-[35px]"), c(o, "class", "sq-fullpage-mobile-close sq-absolute sq-text-right sq-w-full "), c(e, "class", "sq-items-center sq-absolute sq-w-full sq-top-[25px] sq-flex sq-justify-between sq-z-10");
    },
    m(g, w) {
      h(g, e, w), d && d.m(e, null), p(e, l), p(e, t), p(e, i), p(e, o), m[n].m(o, null), a = !0, u || (f = [
        I(o, "keypress", null),
        I(
          o,
          "click",
          /*backLink*/
          s[7]
        )
      ], u = !0);
    },
    p(g, w) {
      /*mediaData*/
      g[2]?.owner?.image || /*getUsername*/
      g[5] ? d ? d.p(g, w) : (d = rl(g), d.c(), d.m(e, l)) : d && (d.d(1), d = null);
      let L = n;
      n = k(g), n === L ? m[n].p(g, w) : (V(), y(m[L], 1, 1, () => {
        m[L] = null;
      }), O(), r = m[n], r ? r.p(g, w) : (r = m[n] = _[n](g), r.c()), v(r, 1), r.m(o, null));
    },
    i(g) {
      a || (v(r), a = !0);
    },
    o(g) {
      y(r), a = !1;
    },
    d(g) {
      g && b(e), d && d.d(), m[n].d(), u = !1, te(f);
    }
  };
}
function Dt(s) {
  let e, l, t, i, o, n, r, a = (
    /*settings*/
    s[1].popup?.show_headline === "1" && /*mediaData*/
    s[2]?.products?.length > 0 && /*popupGridProductCount*/
    s[6] !== "0" && ul(s)
  );
  return {
    c() {
      e = q("div"), a && a.c(), l = C(), t = q("button"), i = T("Back"), c(t, "class", o = /*settings*/
      s[1]?.buttons?.class + " sq-cursor-pointer"), c(e, "class", "sq-py-4 sq-flex sq-justify-between " + (innerWidth <= 480 ? "sq-px-4" : ""));
    },
    m(u, f) {
      h(u, e, f), a && a.m(e, null), p(e, l), p(e, t), p(t, i), n || (r = I(
        t,
        "click",
        /*backLink*/
        s[7]
      ), n = !0);
    },
    p(u, f) {
      /*settings*/
      u[1].popup?.show_headline === "1" && /*mediaData*/
      u[2]?.products?.length > 0 && /*popupGridProductCount*/
      u[6] !== "0" ? a ? a.p(u, f) : (a = ul(u), a.c(), a.m(e, l)) : a && (a.d(1), a = null), f & /*settings*/
      2 && o !== (o = /*settings*/
      u[1]?.buttons?.class + " sq-cursor-pointer") && c(t, "class", o);
    },
    i: W,
    o: W,
    d(u) {
      u && b(e), a && a.d(), n = !1, r();
    }
  };
}
function rl(s) {
  let e, l, t, i, o, n, r, a, u = (
    /*getUsername*/
    (s[5] || "") + ""
  ), f, d;
  return {
    c() {
      e = q("div"), l = q("img"), i = C(), o = q("div"), n = C(), r = q("div"), a = q("span"), f = T(u), H(l.src, t = ue(
        /*mediaData*/
        s[2]?.owner?.image,
        "q",
        /*settings*/
        s[1]?.media?.quality
      )) || c(l, "src", t), c(l, "alt", ""), c(l, "class", "sq-rounded-full sq-w-[35px] sq-h-[35px]"), c(e, "class", "sq-w-[35px] sq-h-[35px] sq-ml-[10px] sq-z-20"), c(o, "class", "sq-rounded-full sq-items-center sq-opacity-40 sq-bg-[#3a3a3a] sq-z-10 sq-h-[35px]"), Z(o, "margin-left", "-35px"), Z(
        o,
        "width",
        /*usernameWidth*/
        s[4] - 10 + "px"
      ), c(a, "class", "sq-text-white sq-pr-2 sq-pl-[50px] sq-block sq-text-[12px] sq-font-bold"), c(r, "class", "sq-absolute sq-items-center sq-z-10 sq-place-content-center"), fe(() => (
        /*div2_elementresize_handler*/
        s[8].call(r)
      ));
    },
    m(_, m) {
      h(_, e, m), p(e, l), h(_, i, m), h(_, o, m), h(_, n, m), h(_, r, m), p(r, a), p(a, f), d = ce(
        r,
        /*div2_elementresize_handler*/
        s[8].bind(r)
      );
    },
    p(_, m) {
      m & /*mediaData, settings*/
      6 && !H(l.src, t = ue(
        /*mediaData*/
        _[2]?.owner?.image,
        "q",
        /*settings*/
        _[1]?.media?.quality
      )) && c(l, "src", t), m & /*usernameWidth*/
      16 && Z(
        o,
        "width",
        /*usernameWidth*/
        _[4] - 10 + "px"
      ), m & /*getUsername*/
      32 && u !== (u = /*getUsername*/
      (_[5] || "") + "") && P(f, u);
    },
    d(_) {
      _ && b(e), _ && b(i), _ && b(o), _ && b(n), _ && b(r), d();
    }
  };
}
function It(s) {
  let e, l;
  return e = new Yl({}), {
    c() {
      B(e.$$.fragment);
    },
    m(t, i) {
      U(e, t, i), l = !0;
    },
    p: W,
    i(t) {
      l || (v(e.$$.fragment, t), l = !0);
    },
    o(t) {
      y(e.$$.fragment, t), l = !1;
    },
    d(t) {
      G(e, t);
    }
  };
}
function Ht(s) {
  let e, l;
  return {
    c() {
      e = q("img"), c(e, "alt", "close_icon"), H(e.src, l = /*settings*/
      s[1]?.icons?.close_icon) || c(e, "src", l), c(e, "class", "sq-w-[15px] sq-pr-[18px] sq-pt-[4px] sq-box-content"), Z(e, "vertical-align", "inherit");
    },
    m(t, i) {
      h(t, e, i);
    },
    p(t, i) {
      i & /*settings*/
      2 && !H(e.src, l = /*settings*/
      t[1]?.icons?.close_icon) && c(e, "src", l);
    },
    i: W,
    o: W,
    d(t) {
      t && b(e);
    }
  };
}
function ul(s) {
  let e = (
    /*settings*/
    s[1].popup?.headline?.html_element ?? "h1"
  ), l, t = (
    /*settings*/
    (s[1].popup?.headline?.html_element ?? "h1") && Le(s)
  );
  return {
    c() {
      t && t.c(), l = J();
    },
    m(i, o) {
      t && t.m(i, o), h(i, l, o);
    },
    p(i, o) {
      /*settings*/
      i[1].popup?.headline?.html_element ?? "h1" ? e ? X(
        e,
        /*settings*/
        i[1].popup?.headline?.html_element ?? "h1"
      ) ? (t.d(1), t = Le(i), t.c(), t.m(l.parentNode, l)) : t.p(i, o) : (t = Le(i), t.c(), t.m(l.parentNode, l)) : e && (t.d(1), t = null), e = /*settings*/
      i[1].popup?.headline?.html_element ?? "h1";
    },
    d(i) {
      i && b(l), t && t.d(i);
    }
  };
}
function Le(s) {
  let e, l = R(
    /*settings*/
    s[1]?.popup?.headline?.translations,
    /*config*/
    s[0],
    /*t*/
    s[3]
  ) + "", t, i, o = [
    {
      class: t = `sq-text-2xl sq-my-2 sq-block sq-font-bold sq-text-center ${/*settings*/
      s[1].popup?.headline?.class}`
    },
    {
      style: i = /*settings*/
      s[1].popup?.headline?.css ? E(
        /*settings*/
        s[1].popup?.headline.css
      ) : ""
    }
  ], n = {};
  for (let r = 0; r < o.length; r += 1)
    n = zl(n, o[r]);
  return {
    c() {
      e = q(
        /*settings*/
        s[1].popup?.headline?.html_element ?? "h1"
      ), /-/.test(
        /*settings*/
        s[1].popup?.headline?.html_element ?? "h1"
      ) ? pe(e, n) : ge(e, n);
    },
    m(r, a) {
      h(r, e, a), e.innerHTML = l;
    },
    p(r, a) {
      a & /*settings, config, t*/
      11 && l !== (l = R(
        /*settings*/
        r[1]?.popup?.headline?.translations,
        /*config*/
        r[0],
        /*t*/
        r[3]
      ) + "") && (e.innerHTML = l), n = Cl(o, [
        a & /*settings*/
        2 && t !== (t = `sq-text-2xl sq-my-2 sq-block sq-font-bold sq-text-center ${/*settings*/
        r[1].popup?.headline?.class}`) && { class: t },
        a & /*settings*/
        2 && i !== (i = /*settings*/
        r[1].popup?.headline?.css ? E(
          /*settings*/
          r[1].popup?.headline.css
        ) : "") && { style: i }
      ]), /-/.test(
        /*settings*/
        r[1].popup?.headline?.html_element ?? "h1"
      ) ? pe(e, n) : ge(e, n);
    },
    d(r) {
      r && b(e);
    }
  };
}
function Tt(s) {
  let e, l, t, i;
  const o = [Dt, Et], n = [];
  function r(a, u) {
    return innerWidth > 480 ? 0 : 1;
  }
  return e = r(), l = n[e] = o[e](s), {
    c() {
      l.c(), t = J();
    },
    m(a, u) {
      n[e].m(a, u), h(a, t, u), i = !0;
    },
    p(a, [u]) {
      l.p(a, u);
    },
    i(a) {
      i || (v(l), i = !0);
    },
    o(a) {
      y(l), i = !1;
    },
    d(a) {
      n[e].d(a), a && b(t);
    }
  };
}
function jt(s, e, l) {
  let t, { config: i } = e, { settings: o } = e, { mediaData: n } = e, { t: r } = e, a = 0;
  const u = Ul(o.popup.layout)[1], f = () => {
    history.go(-1);
  };
  function d() {
    a = this.clientWidth, l(4, a);
  }
  return s.$$set = (_) => {
    "config" in _ && l(0, i = _.config), "settings" in _ && l(1, o = _.settings), "mediaData" in _ && l(2, n = _.mediaData), "t" in _ && l(3, r = _.t);
  }, s.$$.update = () => {
    s.$$.dirty & /*mediaData*/
    4 && l(5, t = n?.username || n?.owner?.username);
  }, [
    i,
    o,
    n,
    r,
    a,
    t,
    u,
    f,
    d
  ];
}
class At extends $ {
  constructor(e) {
    super(), x(this, e, jt, Tt, X, {
      config: 0,
      settings: 1,
      mediaData: 2,
      t: 3
    });
  }
}
function fl(s) {
  let e, l = (
    /*getProductName*/
    s[7](
      /*product*/
      s[6]?.name
    ) + ""
  ), t, i, o, n, r;
  return {
    c() {
      e = q("span"), t = T(l), c(e, "class", i = `sq-block sq-line-clamp-1 sq-cursor-pointer sq-text-lg sq-font-light sq-text-left sq-truncate ${/*settings*/
      s[1].popup?.product?.name?.custom_css_class}`), c(e, "style", o = /*settings*/
      s[1].popup?.product?.name?.css ? E(
        /*settings*/
        s[1].popup?.product?.name?.css
      ) : "");
    },
    m(a, u) {
      h(a, e, u), p(e, t), n || (r = [
        I(e, "keypress", null),
        I(
          e,
          "click",
          /*click_handler_1*/
          s[9]
        )
      ], n = !0);
    },
    p(a, u) {
      u & /*product*/
      64 && l !== (l = /*getProductName*/
      a[7](
        /*product*/
        a[6]?.name
      ) + "") && P(t, l), u & /*settings*/
      2 && i !== (i = `sq-block sq-line-clamp-1 sq-cursor-pointer sq-text-lg sq-font-light sq-text-left sq-truncate ${/*settings*/
      a[1].popup?.product?.name?.custom_css_class}`) && c(e, "class", i), u & /*settings*/
      2 && o !== (o = /*settings*/
      a[1].popup?.product?.name?.css ? E(
        /*settings*/
        a[1].popup?.product?.name?.css
      ) : "") && c(e, "style", o);
    },
    d(a) {
      a && b(e), n = !1, te(r);
    }
  };
}
function cl(s) {
  let e, l, t = (
    /*product*/
    s[6].price !== null && /*product*/
    s[6].price !== void 0 && dl(s)
  ), i = (
    /*product*/
    s[6].sale_price !== null && /*product*/
    s[6].sale_price !== void 0 && _l(s)
  );
  return {
    c() {
      e = q("span"), t && t.c(), l = C(), i && i.c(), c(e, "class", "sq-flex sq-justify-start sq-mt-2");
    },
    m(o, n) {
      h(o, e, n), t && t.m(e, null), p(e, l), i && i.m(e, null);
    },
    p(o, n) {
      /*product*/
      o[6].price !== null && /*product*/
      o[6].price !== void 0 ? t ? t.p(o, n) : (t = dl(o), t.c(), t.m(e, l)) : t && (t.d(1), t = null), /*product*/
      o[6].sale_price !== null && /*product*/
      o[6].sale_price !== void 0 ? i ? i.p(o, n) : (i = _l(o), i.c(), i.m(e, null)) : i && (i.d(1), i = null);
    },
    d(o) {
      o && b(e), t && t.d(), i && i.d();
    }
  };
}
function dl(s) {
  let e, l = qe(
    /*product*/
    s[6].currency
  ) + "", t, i, o = (
    /*product*/
    s[6].price + ""
  ), n, r, a, u, f;
  return {
    c() {
      e = q("span"), t = T(l), i = C(), n = T(o), u = C(), f = q("span"), c(e, "class", r = `sq-text-xs sq-font-light sq-row-product-price sq-text-left ${/*settings*/
      s[1].popup?.product?.price?.custom_css_class}`), c(e, "style", a = /*settings*/
      s[1].popup?.product.price?.css ? E(
        /*settings*/
        s[1].popup?.product.price.css
      ) : ""), c(f, "class", "sq-border-r sq-mx-3");
    },
    m(d, _) {
      h(d, e, _), p(e, t), p(e, i), p(e, n), h(d, u, _), h(d, f, _);
    },
    p(d, _) {
      _ & /*product*/
      64 && l !== (l = qe(
        /*product*/
        d[6].currency
      ) + "") && P(t, l), _ & /*product*/
      64 && o !== (o = /*product*/
      d[6].price + "") && P(n, o), _ & /*settings*/
      2 && r !== (r = `sq-text-xs sq-font-light sq-row-product-price sq-text-left ${/*settings*/
      d[1].popup?.product?.price?.custom_css_class}`) && c(e, "class", r), _ & /*settings*/
      2 && a !== (a = /*settings*/
      d[1].popup?.product.price?.css ? E(
        /*settings*/
        d[1].popup?.product.price.css
      ) : "") && c(e, "style", a);
    },
    d(d) {
      d && b(e), d && b(u), d && b(f);
    }
  };
}
function _l(s) {
  let e, l = qe(
    /*product*/
    s[6].currency
  ) + "", t, i, o = (
    /*product*/
    s[6].sale_price + ""
  ), n, r, a;
  return {
    c() {
      e = q("span"), t = T(l), i = C(), n = T(o), c(e, "class", r = `sq-text-xs sq-row-product-sale-price sq-font-light sq-text-left ${/*settings*/
      s[1].popup?.product?.sale_price?.custom_css_class}`), c(e, "style", a = /*settings*/
      s[1].popup?.product?.sale_price?.css ? E(
        /*settings*/
        s[1].popup?.product?.sale_price?.css
      ) : "");
    },
    m(u, f) {
      h(u, e, f), p(e, t), p(e, i), p(e, n);
    },
    p(u, f) {
      f & /*product*/
      64 && l !== (l = qe(
        /*product*/
        u[6].currency
      ) + "") && P(t, l), f & /*product*/
      64 && o !== (o = /*product*/
      u[6].sale_price + "") && P(n, o), f & /*settings*/
      2 && r !== (r = `sq-text-xs sq-row-product-sale-price sq-font-light sq-text-left ${/*settings*/
      u[1].popup?.product?.sale_price?.custom_css_class}`) && c(e, "class", r), f & /*settings*/
      2 && a !== (a = /*settings*/
      u[1].popup?.product?.sale_price?.css ? E(
        /*settings*/
        u[1].popup?.product?.sale_price?.css
      ) : "") && c(e, "style", a);
    },
    d(u) {
      u && b(e);
    }
  };
}
function ml(s) {
  let e, l, t = R(
    /*settings*/
    s[1]?.popup?.button?.translations,
    /*config*/
    s[0],
    /*t*/
    s[4]
  ) + "", i, o, n, r;
  return {
    c() {
      e = q("div"), l = q("div"), c(l, "class", i = `sq-text-black sq-truncate sq-mt-3 sq-cursor-pointer sq-text-center ${innerWidth > 480 ? "" : "sq-mx-auto"}  sm:sq-max-w-xs ${/*settings*/
      s[1].popup?.product?.button?.class ?? ""} `), c(l, "style", o = /*settings*/
      s[1].popup?.product?.button?.css ? E(
        /*settings*/
        s[1].popup?.product?.button?.css
      ) : ""), c(e, "class", "sq-text-left");
    },
    m(a, u) {
      h(a, e, u), p(e, l), l.innerHTML = t, n || (r = [
        I(l, "keypress", null),
        I(
          l,
          "click",
          /*click_handler_2*/
          s[10]
        )
      ], n = !0);
    },
    p(a, u) {
      u & /*settings, config, t*/
      19 && t !== (t = R(
        /*settings*/
        a[1]?.popup?.button?.translations,
        /*config*/
        a[0],
        /*t*/
        a[4]
      ) + "") && (l.innerHTML = t), u & /*settings*/
      2 && i !== (i = `sq-text-black sq-truncate sq-mt-3 sq-cursor-pointer sq-text-center ${innerWidth > 480 ? "" : "sq-mx-auto"}  sm:sq-max-w-xs ${/*settings*/
      a[1].popup?.product?.button?.class ?? ""} `) && c(l, "class", i), u & /*settings*/
      2 && o !== (o = /*settings*/
      a[1].popup?.product?.button?.css ? E(
        /*settings*/
        a[1].popup?.product?.button?.css
      ) : "") && c(l, "style", o);
    },
    d(a) {
      a && b(e), n = !1, te(r);
    }
  };
}
function Nt(s) {
  let e, l, t, i, o, n, r, a = parseInt(
    /*settings*/
    s[1].popup?.show_price
  ) === 1, u, f = parseInt(
    /*settings*/
    s[1].popup?.button.show ?? 0
  ) === 1, d, _, m = (
    /*product*/
    s[6]?.name !== null && fl(s)
  ), k = a && cl(s), g = f && ml(s);
  return {
    c() {
      e = q("div"), l = q("div"), t = q("img"), o = C(), n = q("div"), m && m.c(), r = C(), k && k.c(), u = C(), g && g.c(), H(t.src, i = ue(
        /*product*/
        s[6].image_url,
        "q",
        /*settings*/
        s[1]?.media?.quality
      )) || c(t, "src", i), c(t, "alt", ""), c(t, "class", "sq-w-[100px]"), c(l, "class", "sq-w-[100px] sq-cursor-pointer sq-min-w-[100px]"), c(n, "class", "sq-flex sq-flex-col sq-justify-between sq-w-full sq-overflow-hidden"), c(e, "class", "sq-flex sq-py-4 sq-gap-4 sq-overflow-hidden"), Z(e, "border-bottom", "1px solid #DEE2E6");
    },
    m(w, L) {
      h(w, e, L), p(e, l), p(l, t), p(e, o), p(e, n), m && m.m(n, null), p(n, r), k && k.m(n, null), p(n, u), g && g.m(n, null), d || (_ = [
        I(l, "keypress", null),
        I(
          l,
          "click",
          /*click_handler*/
          s[8]
        )
      ], d = !0);
    },
    p(w, [L]) {
      L & /*product, settings*/
      66 && !H(t.src, i = ue(
        /*product*/
        w[6].image_url,
        "q",
        /*settings*/
        w[1]?.media?.quality
      )) && c(t, "src", i), /*product*/
      w[6]?.name !== null ? m ? m.p(w, L) : (m = fl(w), m.c(), m.m(n, r)) : m && (m.d(1), m = null), L & /*settings*/
      2 && (a = parseInt(
        /*settings*/
        w[1].popup?.show_price
      ) === 1), a ? k ? k.p(w, L) : (k = cl(w), k.c(), k.m(n, u)) : k && (k.d(1), k = null), L & /*settings*/
      2 && (f = parseInt(
        /*settings*/
        w[1].popup?.button.show ?? 0
      ) === 1), f ? g ? g.p(w, L) : (g = ml(w), g.c(), g.m(n, null)) : g && (g.d(1), g = null);
    },
    i: W,
    o: W,
    d(w) {
      w && b(e), m && m.d(), k && k.d(), g && g.d(), d = !1, te(_);
    }
  };
}
function Pt(s, e, l) {
  let { config: t } = e, { settings: i } = e, { mediaData: o } = e, { onEvent: n } = e, { t: r } = e, { source: a } = e, { product: u } = e;
  const f = i.popup?.product?.name["max-chars"] ?? 20, d = (g) => g?.length > f ? g?.substring(0, f) + "..." : g, _ = () => n("selectProduct", {
    config: t,
    product: u,
    media: o,
    type: "fullpage-popup",
    source: a
  }), m = () => n("selectProduct", {
    config: t,
    product: u,
    media: o,
    type: "fullpage-popup",
    source: a
  }), k = () => n("selectProduct", {
    config: t,
    product: u,
    media: o,
    type: "fullpage-popup",
    source: a
  });
  return s.$$set = (g) => {
    "config" in g && l(0, t = g.config), "settings" in g && l(1, i = g.settings), "mediaData" in g && l(2, o = g.mediaData), "onEvent" in g && l(3, n = g.onEvent), "t" in g && l(4, r = g.t), "source" in g && l(5, a = g.source), "product" in g && l(6, u = g.product);
  }, [
    t,
    i,
    o,
    n,
    r,
    a,
    u,
    d,
    _,
    m,
    k
  ];
}
class Vt extends $ {
  constructor(e) {
    super(), x(this, e, Pt, Nt, X, {
      config: 0,
      settings: 1,
      mediaData: 2,
      onEvent: 3,
      t: 4,
      source: 5,
      product: 6
    });
  }
}
function pl(s, e, l) {
  const t = s.slice();
  return t[9] = e[l], t;
}
function gl(s) {
  let e, l, t, i, o, n, r, a = (
    /*getUsername*/
    (s[7] || "") + ""
  ), u, f, d, _, m;
  return {
    c() {
      e = q("div"), l = q("div"), t = q("img"), o = C(), n = q("div"), r = q("span"), u = T(a), H(t.src, i = /*mediaData*/
      s[2]?.owner?.image) || c(t, "src", i), c(t, "alt", ""), c(t, "class", "sq-rounded-full sq-w-[100px]"), c(l, "class", "sq-w-[100px]"), c(r, "class", "sq-text-black sq-cursor-pointer"), c(n, "class", f = "sq-w-full sq-font-semibold sq-text-sm sq-leading-5 sq-flex sq-mb-2 " + /*getTitleOrientationStyle*/
      s[6] + /*settings*/
      s[1].media.text.class), c(n, "style", d = E(
        /*settings*/
        s[1]?.media?.text?.css ?? {}
      )), c(e, "class", "sq-flex sq-gap-2 sq-items-center sq-py-4 sq-mb-4"), Z(e, "border-bottom", "1px solid #DEE2E6");
    },
    m(k, g) {
      h(k, e, g), p(e, l), p(l, t), p(e, o), p(e, n), p(n, r), p(r, u), _ || (m = [
        I(n, "keypress", null),
        I(
          n,
          "click",
          /*goToInstagram*/
          s[8]
        )
      ], _ = !0);
    },
    p(k, g) {
      g & /*mediaData*/
      4 && !H(t.src, i = /*mediaData*/
      k[2]?.owner?.image) && c(t, "src", i), g & /*getUsername*/
      128 && a !== (a = /*getUsername*/
      (k[7] || "") + "") && P(u, a), g & /*getTitleOrientationStyle, settings*/
      66 && f !== (f = "sq-w-full sq-font-semibold sq-text-sm sq-leading-5 sq-flex sq-mb-2 " + /*getTitleOrientationStyle*/
      k[6] + /*settings*/
      k[1].media.text.class) && c(n, "class", f), g & /*settings*/
      2 && d !== (d = E(
        /*settings*/
        k[1]?.media?.text?.css ?? {}
      )) && c(n, "style", d);
    },
    d(k) {
      k && b(e), _ = !1, te(m);
    }
  };
}
function ql(s) {
  let e, l;
  return e = new Vt({
    props: {
      settings: (
        /*settings*/
        s[1]
      ),
      config: (
        /*config*/
        s[0]
      ),
      mediaData: (
        /*mediaData*/
        s[2]
      ),
      onEvent: (
        /*onEvent*/
        s[3]
      ),
      t: (
        /*t*/
        s[4]
      ),
      source: (
        /*source*/
        s[5]
      ),
      product: (
        /*product*/
        s[9]
      )
    }
  }), {
    c() {
      B(e.$$.fragment);
    },
    m(t, i) {
      U(e, t, i), l = !0;
    },
    p(t, i) {
      const o = {};
      i & /*settings*/
      2 && (o.settings = /*settings*/
      t[1]), i & /*config*/
      1 && (o.config = /*config*/
      t[0]), i & /*mediaData*/
      4 && (o.mediaData = /*mediaData*/
      t[2]), i & /*onEvent*/
      8 && (o.onEvent = /*onEvent*/
      t[3]), i & /*t*/
      16 && (o.t = /*t*/
      t[4]), i & /*source*/
      32 && (o.source = /*source*/
      t[5]), i & /*mediaData*/
      4 && (o.product = /*product*/
      t[9]), e.$set(o);
    },
    i(t) {
      l || (v(e.$$.fragment, t), l = !0);
    },
    o(t) {
      y(e.$$.fragment, t), l = !1;
    },
    d(t) {
      G(e, t);
    }
  };
}
function Ot(s) {
  let e, l, t, i = (
    /*mediaData*/
    (s[2]?.owner?.image || /*getUsername*/
    s[7]) && innerWidth > 480 && gl(s)
  ), o = (
    /*mediaData*/
    s[2]?.products ?? []
  ), n = [];
  for (let a = 0; a < o.length; a += 1)
    n[a] = ql(pl(s, o, a));
  const r = (a) => y(n[a], 1, 1, () => {
    n[a] = null;
  });
  return {
    c() {
      e = q("div"), i && i.c(), l = C();
      for (let a = 0; a < n.length; a += 1)
        n[a].c();
      c(e, "class", "sq-flex sq-flex-col");
    },
    m(a, u) {
      h(a, e, u), i && i.m(e, null), p(e, l);
      for (let f = 0; f < n.length; f += 1)
        n[f].m(e, null);
      t = !0;
    },
    p(a, [u]) {
      if (/*mediaData*/
      (a[2]?.owner?.image || /*getUsername*/
      a[7]) && innerWidth > 480 ? i ? i.p(a, u) : (i = gl(a), i.c(), i.m(e, l)) : i && (i.d(1), i = null), u & /*settings, config, mediaData, onEvent, t, source*/
      63) {
        o = /*mediaData*/
        a[2]?.products ?? [];
        let f;
        for (f = 0; f < o.length; f += 1) {
          const d = pl(a, o, f);
          n[f] ? (n[f].p(d, u), v(n[f], 1)) : (n[f] = ql(d), n[f].c(), v(n[f], 1), n[f].m(e, null));
        }
        for (V(), f = o.length; f < n.length; f += 1)
          r(f);
        O();
      }
    },
    i(a) {
      if (!t) {
        for (let u = 0; u < o.length; u += 1)
          v(n[u]);
        t = !0;
      }
    },
    o(a) {
      n = n.filter(Boolean);
      for (let u = 0; u < n.length; u += 1)
        y(n[u]);
      t = !1;
    },
    d(a) {
      a && b(e), i && i.d(), We(n, a);
    }
  };
}
function St(s, e, l) {
  let t, i, { config: o } = e, { settings: n } = e, { mediaData: r } = e, { onEvent: a } = e, { t: u } = e, { source: f } = e;
  const d = () => {
    r.media_source_type === "instagram" && a("onClickInstagram", {
      config: o,
      callback: () => window.open("https://www.instagram.com/p/" + r.shortcode, "_blank").focus()
    });
  };
  return s.$$set = (_) => {
    "config" in _ && l(0, o = _.config), "settings" in _ && l(1, n = _.settings), "mediaData" in _ && l(2, r = _.mediaData), "onEvent" in _ && l(3, a = _.onEvent), "t" in _ && l(4, u = _.t), "source" in _ && l(5, f = _.source);
  }, s.$$.update = () => {
    s.$$.dirty & /*mediaData*/
    4 && l(7, t = r?.username || r?.owner?.username), s.$$.dirty & /*settings*/
    2 && l(6, i = n?.media?.text?.css ? n?.media?.text?.css["text-align"] === "right" ? "sq-justify-end " : n?.media?.text?.css["text-align"] === "center" ? "sq-justify-center " : " " : "");
  }, [
    o,
    n,
    r,
    a,
    u,
    f,
    i,
    t,
    d
  ];
}
class Ft extends $ {
  constructor(e) {
    super(), x(this, e, St, Ot, X, {
      config: 0,
      settings: 1,
      mediaData: 2,
      onEvent: 3,
      t: 4,
      source: 5
    });
  }
}
function Bt(s) {
  let e, l, t, i, o, n, r;
  return {
    c() {
      e = Q("svg"), l = Q("g"), t = Q("path"), i = Q("path"), o = Q("defs"), n = Q("clipPath"), r = Q("rect"), c(t, "fill-rule", "evenodd"), c(t, "clip-rule", "evenodd"), c(t, "d", "M30 57.0001C44.9117 57.0001 57.0001 44.912 57.0001 30C57.0001 15.0883 44.912 2.99994 30 2.99994C15.0883 2.99994 2.99994 15.0883 2.99994 30C2.99994 44.9117 15.0883 57.0001 30 57.0001ZM30 60C46.5683 60 60 46.5683 60 30C60 13.4313 46.5683 0 30 0C13.4313 0 0 13.4313 0 30C0 46.5683 13.4313 60 30 60Z"), c(t, "fill", "white"), c(i, "fill-rule", "evenodd"), c(i, "clip-rule", "evenodd"), c(i, "d", "M37.7955 30L23.9998 20.803V39.1974L37.7955 30ZM40.5827 28.2528C41.8298 29.0842 41.8298 30.9162 40.5827 31.7476L24.2645 42.6266C22.869 43.557 20.9996 42.5563 20.9996 40.8791V19.1213C20.9996 17.4441 22.869 16.4437 24.2645 17.3741L40.5827 28.2528Z"), c(i, "fill", "white"), c(l, "clip-path", "url(#clip0_9854_2118)"), c(r, "width", "60"), c(r, "height", "60"), c(r, "fill", "white"), c(n, "id", "clip0_9854_2118"), c(e, "width", "60"), c(e, "height", "60"), c(e, "viewBox", "0 0 60 60"), c(e, "fill", "none"), c(e, "xmlns", "http://www.w3.org/2000/svg");
    },
    m(a, u) {
      h(a, e, u), p(e, l), p(l, t), p(l, i), p(e, o), p(o, n), p(n, r);
    },
    p: W,
    i: W,
    o: W,
    d(a) {
      a && b(e);
    }
  };
}
class Ut extends $ {
  constructor(e) {
    super(), x(this, e, null, Bt, X, {});
  }
}
function Gt(s) {
  let e, l;
  return {
    c() {
      e = q("img"), H(e.src, l = "https://c.tenor.com/On7kvXhzml4AAAAi/loading-gif.gif") || c(e, "src", l), c(e, "alt", "Loading..."), c(e, "class", "sq-my-auto");
    },
    m(t, i) {
      h(t, e, i);
    },
    p: W,
    d(t) {
      t && b(e);
    }
  };
}
function Zt(s) {
  let e, l;
  return {
    c() {
      e = q("img"), H(e.src, l = "https://icon-library.com/images/not-found-icon/not-found-icon-20.jpg") || c(e, "src", l), c(e, "alt", "Not Found");
    },
    m(t, i) {
      h(t, e, i);
    },
    p: W,
    d(t) {
      t && b(e);
    }
  };
}
function Rt(s) {
  let e, l;
  return {
    c() {
      e = q("img"), H(e.src, l = /*src*/
      s[0]) || c(e, "src", l), c(
        e,
        "alt",
        /*alt*/
        s[1]
      ), c(
        e,
        "class",
        /*imgClass*/
        s[2]
      );
    },
    m(t, i) {
      h(t, e, i);
    },
    p(t, i) {
      i & /*src*/
      1 && !H(e.src, l = /*src*/
      t[0]) && c(e, "src", l), i & /*alt*/
      2 && c(
        e,
        "alt",
        /*alt*/
        t[1]
      ), i & /*imgClass*/
      4 && c(
        e,
        "class",
        /*imgClass*/
        t[2]
      );
    },
    d(t) {
      t && b(e);
    }
  };
}
function Yt(s) {
  let e;
  function l(o, n) {
    if (
      /*loaded*/
      o[3]
    )
      return Rt;
    if (
      /*failed*/
      o[4]
    )
      return Zt;
    if (
      /*loading*/
      o[5]
    )
      return Gt;
  }
  let t = l(s), i = t && t(s);
  return {
    c() {
      i && i.c(), e = J();
    },
    m(o, n) {
      i && i.m(o, n), h(o, e, n);
    },
    p(o, [n]) {
      t === (t = l(o)) && i ? i.p(o, n) : (i && i.d(1), i = t && t(o), i && (i.c(), i.m(e.parentNode, e)));
    },
    i: W,
    o: W,
    d(o) {
      i && i.d(o), o && b(e);
    }
  };
}
function Qt(s, e, l) {
  let { src: t } = e, { alt: i } = e, { imgClass: o } = e, n = !1, r = !1, a = !1;
  return Ml(() => {
    const u = new Image();
    u.src = t, l(5, a = !0), u.onload = () => {
      l(5, a = !1), l(3, n = !0);
    }, u.onerror = () => {
      l(5, a = !1), l(4, r = !0);
    };
  }), s.$$set = (u) => {
    "src" in u && l(0, t = u.src), "alt" in u && l(1, i = u.alt), "imgClass" in u && l(2, o = u.imgClass);
  }, [t, i, o, n, r, a];
}
class El extends $ {
  constructor(e) {
    super(), x(this, e, Qt, Yt, X, { src: 0, alt: 1, imgClass: 2 });
  }
}
function hl(s, e, l) {
  const t = s.slice();
  return t[12] = e[l], t[14] = l, t;
}
function bl(s) {
  let e, l, t;
  return l = new Ut({}), {
    c() {
      e = q("div"), B(l.$$.fragment), c(e, "class", "sq-absolute sq-m-auto sq-top-[32%] sq-left-[24%]");
    },
    m(i, o) {
      h(i, e, o), U(l, e, null), t = !0;
    },
    i(i) {
      t || (v(l.$$.fragment, i), t = !0);
    },
    o(i) {
      y(l.$$.fragment, i), t = !1;
    },
    d(i) {
      i && b(e), G(l);
    }
  };
}
function vl(s) {
  let e, l, t, i, o = (
    /*file*/
    s[12]?.type?.toLowerCase() === "video"
  ), n, r, a, u, f = o && bl();
  return {
    c() {
      e = q("div"), l = q("img"), i = C(), f && f.c(), n = C(), H(l.src, t = /*file*/
      s[12]?.type?.toLowerCase() === "image" ? (
        /*file*/
        s[12].file + "?tr=ar-4-6,w-120"
      ) : (
        /*file*/
        s[12].file + "/ik-thumbnail.jpg?tr=ar-4-6,w-120"
      )) || c(l, "src", t), c(l, "alt", ""), c(l, "class", "sq-w-[120px]"), c(e, "class", "sq-relative sq-cursor-pointer");
    },
    m(d, _) {
      h(d, e, _), p(e, l), p(e, i), f && f.m(e, null), p(e, n), r = !0, a || (u = [
        I(e, "keypress", null),
        I(e, "click", function() {
          _e(
            /*loadMainMedia*/
            s[7](
              /*file*/
              s[12]?._id,
              /*file*/
              s[12]?.type?.toLowerCase()
            )
          ) && s[7](
            /*file*/
            s[12]?._id,
            /*file*/
            s[12]?.type?.toLowerCase()
          ).apply(this, arguments);
        })
      ], a = !0);
    },
    p(d, _) {
      s = d, (!r || _ & /*mediaData*/
      1 && !H(l.src, t = /*file*/
      s[12]?.type?.toLowerCase() === "image" ? (
        /*file*/
        s[12].file + "?tr=ar-4-6,w-120"
      ) : (
        /*file*/
        s[12].file + "/ik-thumbnail.jpg?tr=ar-4-6,w-120"
      ))) && c(l, "src", t), _ & /*mediaData*/
      1 && (o = /*file*/
      s[12]?.type?.toLowerCase() === "video"), o ? f ? _ & /*mediaData*/
      1 && v(f, 1) : (f = bl(), f.c(), v(f, 1), f.m(e, n)) : f && (V(), y(f, 1, 1, () => {
        f = null;
      }), O());
    },
    i(d) {
      r || (v(f), r = !0);
    },
    o(d) {
      y(f), r = !1;
    },
    d(d) {
      d && b(e), f && f.d(), a = !1, te(u);
    }
  };
}
function kl(s) {
  let e, l, t;
  return l = new El({
    props: {
      alt: "post_image",
      src: (
        /*baseMediaUrl*/
        s[6]
      ),
      imgClass: "sq-w-full sq-h-full "
    }
  }), {
    c() {
      e = q("div"), B(l.$$.fragment), c(e, "class", "sq-inline-grid sq-h-full");
    },
    m(i, o) {
      h(i, e, o), U(l, e, null), t = !0;
    },
    p(i, o) {
      const n = {};
      o & /*baseMediaUrl*/
      64 && (n.src = /*baseMediaUrl*/
      i[6]), l.$set(n);
    },
    i(i) {
      t || (v(l.$$.fragment, i), t = !0);
    },
    o(i) {
      y(l.$$.fragment, i), t = !1;
    },
    d(i) {
      i && b(e), G(l);
    }
  };
}
function yl(s) {
  let e, l, t, i, o, n, r, a, u = (
    /*isLoadingVideo*/
    s[3] && /*baseMediaThumbnail*/
    s[4] && wl(s)
  );
  return {
    c() {
      u && u.c(), e = C(), l = q("video"), t = q("source"), o = T(`
        Your browser does not support the video tag.`), H(t.src, i = /*baseMediaUrl*/
      s[6]) || c(t, "src", i), c(l, "class", "sq-mx-auto sq-w-"), Z(l, "width", "inherit"), Z(l, "height", "inherit"), l.muted = !0, l.loop = !0, l.autoplay = !0, l.controls = !0, Ne(
        l,
        "sq-loading-fullpage-video",
        /*isLoadingVideo*/
        s[3]
      );
    },
    m(f, d) {
      u && u.m(f, d), h(f, e, d), h(f, l, d), p(l, t), p(l, o), n = !0, r || (a = [
        I(
          l,
          "loadstart",
          /*loadstart_handler*/
          s[9]
        ),
        I(
          l,
          "canplay",
          /*canplay_handler*/
          s[10]
        )
      ], r = !0);
    },
    p(f, d) {
      /*isLoadingVideo*/
      f[3] && /*baseMediaThumbnail*/
      f[4] ? u ? (u.p(f, d), d & /*isLoadingVideo, baseMediaThumbnail*/
      24 && v(u, 1)) : (u = wl(f), u.c(), v(u, 1), u.m(e.parentNode, e)) : u && (V(), y(u, 1, 1, () => {
        u = null;
      }), O()), (!n || d & /*baseMediaUrl*/
      64 && !H(t.src, i = /*baseMediaUrl*/
      f[6])) && c(t, "src", i), (!n || d & /*isLoadingVideo*/
      8) && Ne(
        l,
        "sq-loading-fullpage-video",
        /*isLoadingVideo*/
        f[3]
      );
    },
    i(f) {
      n || (v(u), n = !0);
    },
    o(f) {
      y(u), n = !1;
    },
    d(f) {
      u && u.d(f), f && b(e), f && b(l), r = !1, te(a);
    }
  };
}
function wl(s) {
  let e, l;
  return e = new El({
    props: {
      alt: "post_thumbnail_image",
      src: (
        /*baseMediaThumbnail*/
        s[4]
      ),
      imgClass: "sq-w-full "
    }
  }), {
    c() {
      B(e.$$.fragment);
    },
    m(t, i) {
      U(e, t, i), l = !0;
    },
    p(t, i) {
      const o = {};
      i & /*baseMediaThumbnail*/
      16 && (o.src = /*baseMediaThumbnail*/
      t[4]), e.$set(o);
    },
    i(t) {
      l || (v(e.$$.fragment, t), l = !0);
    },
    o(t) {
      y(e.$$.fragment, t), l = !1;
    },
    d(t) {
      G(e, t);
    }
  };
}
function Xt(s) {
  let e, l, t, i, o, n, r, a, u = (
    /*mediaData*/
    s[0]?.files ?? []
  ), f = [];
  for (let k = 0; k < u.length; k += 1)
    f[k] = vl(hl(s, u, k));
  const d = (k) => y(f[k], 1, 1, () => {
    f[k] = null;
  });
  let _ = (
    /*baseMediaType*/
    s[5] === "image" && kl(s)
  ), m = (
    /*baseMediaType*/
    s[5] === "video" && yl(s)
  );
  return {
    c() {
      e = q("div"), l = q("div");
      for (let k = 0; k < f.length; k += 1)
        f[k].c();
      t = C(), i = q("div"), _ && _.c(), o = C(), m && m.c(), c(l, "class", "sq-flex sq-flex-col sq-gap-4 "), c(i, "class", n = "sq-w-full sq-relative sq-text-center " + /*baseMediaType*/
      (s[5] === "video" ? " sq-aspect-[4/6]" : "")), fe(() => (
        /*div1_elementresize_handler*/
        s[11].call(i)
      )), c(e, "class", "sq-flex sq-gap-4");
    },
    m(k, g) {
      h(k, e, g), p(e, l);
      for (let w = 0; w < f.length; w += 1)
        f[w].m(l, null);
      p(e, t), p(e, i), _ && _.m(i, null), p(i, o), m && m.m(i, null), r = ce(
        i,
        /*div1_elementresize_handler*/
        s[11].bind(i)
      ), a = !0;
    },
    p(k, [g]) {
      if (g & /*loadMainMedia, mediaData*/
      129) {
        u = /*mediaData*/
        k[0]?.files ?? [];
        let w;
        for (w = 0; w < u.length; w += 1) {
          const L = hl(k, u, w);
          f[w] ? (f[w].p(L, g), v(f[w], 1)) : (f[w] = vl(L), f[w].c(), v(f[w], 1), f[w].m(l, null));
        }
        for (V(), w = u.length; w < f.length; w += 1)
          d(w);
        O();
      }
      /*baseMediaType*/
      k[5] === "image" ? _ ? (_.p(k, g), g & /*baseMediaType*/
      32 && v(_, 1)) : (_ = kl(k), _.c(), v(_, 1), _.m(i, o)) : _ && (V(), y(_, 1, 1, () => {
        _ = null;
      }), O()), /*baseMediaType*/
      k[5] === "video" ? m ? (m.p(k, g), g & /*baseMediaType*/
      32 && v(m, 1)) : (m = yl(k), m.c(), v(m, 1), m.m(i, null)) : m && (V(), y(m, 1, 1, () => {
        m = null;
      }), O()), (!a || g & /*baseMediaType*/
      32 && n !== (n = "sq-w-full sq-relative sq-text-center " + /*baseMediaType*/
      (k[5] === "video" ? " sq-aspect-[4/6]" : ""))) && c(i, "class", n);
    },
    i(k) {
      if (!a) {
        for (let g = 0; g < u.length; g += 1)
          v(f[g]);
        v(_), v(m), a = !0;
      }
    },
    o(k) {
      f = f.filter(Boolean);
      for (let g = 0; g < f.length; g += 1)
        y(f[g]);
      y(_), y(m), a = !1;
    },
    d(k) {
      k && b(e), We(f, k), _ && _.d(), m && m.d(), r();
    }
  };
}
function Jt(s, e, l) {
  let t, i, { settings: o } = e, { mediaData: n } = e, r = 0, a = 0, u = !0, f = "";
  const d = (g, w) => {
    const L = n?.files.find((S) => S._id === g)?.file, j = L.slice(-4) === ".mov" ? ",f-mp4" : "", ee = "w-" + a + ",h-" + r + ",q-" + o?.media?.quality, oe = w === "video" ? "?tr=" + ee + j : "?tr=ar-4-6," + ee;
    return l(6, t = L + oe), l(5, i = n?.files?.find((S) => S._id === g)?.type?.toLowerCase()), l(4, f = L + "/ik-thumbnail.jpg?tr=ar-4-6,w-" + a), g;
  }, _ = () => l(3, u = !0), m = () => l(3, u = !1);
  function k() {
    r = this.clientHeight, a = this.clientWidth, l(2, r), l(1, a);
  }
  return s.$$set = (g) => {
    "settings" in g && l(8, o = g.settings), "mediaData" in g && l(0, n = g.mediaData);
  }, s.$$.update = () => {
    s.$$.dirty & /*mediaData, baseMediaWidth, settings*/
    259 && l(6, t = n?.files[0]?.type?.toLowerCase() === "video" ? n?.files[0]?.file : n?.files[0]?.file + "?tr=ar-4-6,w-" + a + ",q-" + o?.media?.quality), s.$$.dirty & /*mediaData*/
    1 && l(5, i = n?.files[0]?.type?.toLowerCase());
  }, [
    n,
    a,
    r,
    u,
    f,
    i,
    t,
    d,
    o,
    _,
    m,
    k
  ];
}
class Kt extends $ {
  constructor(e) {
    super(), x(this, e, Jt, Xt, X, { settings: 8, mediaData: 0 });
  }
}
function $t(s) {
  let e, l, t, i, o, n, r, a;
  const u = [ls, es], f = [];
  function d(_, m) {
    return (
      /*innerWidth*/
      _[5] > 480 ? 0 : 1
    );
  }
  return t = d(s), i = f[t] = u[t](s), n = new Ft({
    props: {
      settings: (
        /*settings*/
        s[1]
      ),
      config: (
        /*config*/
        s[0]
      ),
      t: (
        /*t*/
        s[2]
      ),
      mediaData: (
        /*mediaData*/
        s[6]
      ),
      onEvent: (
        /*onEvent*/
        s[3]
      ),
      source: (
        /*source*/
        s[4]
      )
    }
  }), {
    c() {
      e = q("div"), l = q("div"), i.c(), o = C(), B(n.$$.fragment), c(l, "class", r = /*innerWidth*/
      s[5] <= 480 ? "sq-flex sq-flex-col" : "sq-grid sq-grid-cols-2 sq-gap-4"), c(e, "class", "sq-py-4");
    },
    m(_, m) {
      h(_, e, m), p(e, l), f[t].m(l, null), p(l, o), U(n, l, null), a = !0;
    },
    p(_, m) {
      let k = t;
      t = d(_), t === k ? f[t].p(_, m) : (V(), y(f[k], 1, 1, () => {
        f[k] = null;
      }), O(), i = f[t], i ? i.p(_, m) : (i = f[t] = u[t](_), i.c()), v(i, 1), i.m(l, o));
      const g = {};
      m & /*settings*/
      2 && (g.settings = /*settings*/
      _[1]), m & /*config*/
      1 && (g.config = /*config*/
      _[0]), m & /*t*/
      4 && (g.t = /*t*/
      _[2]), m & /*mediaData*/
      64 && (g.mediaData = /*mediaData*/
      _[6]), m & /*onEvent*/
      8 && (g.onEvent = /*onEvent*/
      _[3]), m & /*source*/
      16 && (g.source = /*source*/
      _[4]), n.$set(g), (!a || m & /*innerWidth*/
      32 && r !== (r = /*innerWidth*/
      _[5] <= 480 ? "sq-flex sq-flex-col" : "sq-grid sq-grid-cols-2 sq-gap-4")) && c(l, "class", r);
    },
    i(_) {
      a || (v(i), v(n.$$.fragment, _), a = !0);
    },
    o(_) {
      y(i), y(n.$$.fragment, _), a = !1;
    },
    d(_) {
      _ && b(e), f[t].d(), G(n);
    }
  };
}
function xt(s) {
  let e, l = (
    /*t*/
    s[2]("LOADING") + ""
  ), t;
  return {
    c() {
      e = q("div"), t = T(l);
    },
    m(i, o) {
      h(i, e, o), p(e, t);
    },
    p(i, o) {
      o & /*t*/
      4 && l !== (l = /*t*/
      i[2]("LOADING") + "") && P(t, l);
    },
    i: W,
    o: W,
    d(i) {
      i && b(e);
    }
  };
}
function es(s) {
  let e, l;
  return e = new Rl({
    props: {
      data: (
        /*mediaData*/
        s[6]?.files
      ),
      type: (
        /*mediaData*/
        s[6]?.media_type?.toLowerCase()
      ),
      settings: (
        /*settings*/
        s[1]
      )
    }
  }), {
    c() {
      B(e.$$.fragment);
    },
    m(t, i) {
      U(e, t, i), l = !0;
    },
    p(t, i) {
      const o = {};
      i & /*mediaData*/
      64 && (o.data = /*mediaData*/
      t[6]?.files), i & /*mediaData*/
      64 && (o.type = /*mediaData*/
      t[6]?.media_type?.toLowerCase()), i & /*settings*/
      2 && (o.settings = /*settings*/
      t[1]), e.$set(o);
    },
    i(t) {
      l || (v(e.$$.fragment, t), l = !0);
    },
    o(t) {
      y(e.$$.fragment, t), l = !1;
    },
    d(t) {
      G(e, t);
    }
  };
}
function ls(s) {
  let e, l;
  return e = new Kt({
    props: {
      settings: (
        /*settings*/
        s[1]
      ),
      mediaData: (
        /*mediaData*/
        s[6]
      )
    }
  }), {
    c() {
      B(e.$$.fragment);
    },
    m(t, i) {
      U(e, t, i), l = !0;
    },
    p(t, i) {
      const o = {};
      i & /*settings*/
      2 && (o.settings = /*settings*/
      t[1]), i & /*mediaData*/
      64 && (o.mediaData = /*mediaData*/
      t[6]), e.$set(o);
    },
    i(t) {
      l || (v(e.$$.fragment, t), l = !0);
    },
    o(t) {
      y(e.$$.fragment, t), l = !1;
    },
    d(t) {
      G(e, t);
    }
  };
}
function ts(s) {
  let e, l, t, i, o, n;
  l = new At({
    props: {
      settings: (
        /*settings*/
        s[1]
      ),
      mediaData: (
        /*mediaData*/
        s[6]
      ),
      config: (
        /*config*/
        s[0]
      ),
      t: (
        /*t*/
        s[2]
      )
    }
  });
  const r = [xt, $t], a = [];
  function u(f, d) {
    return (
      /*loading*/
      f[7] ? 0 : 1
    );
  }
  return i = u(s), o = a[i] = r[i](s), {
    c() {
      e = q("div"), B(l.$$.fragment), t = C(), o.c(), c(e, "class", "sq-mx-auto sq-relative"), Z(
        e,
        "max-width",
        /*settings*/
        s[1].css["max-width"] + "px"
      );
    },
    m(f, d) {
      h(f, e, d), U(l, e, null), p(e, t), a[i].m(e, null), n = !0;
    },
    p(f, [d]) {
      const _ = {};
      d & /*settings*/
      2 && (_.settings = /*settings*/
      f[1]), d & /*mediaData*/
      64 && (_.mediaData = /*mediaData*/
      f[6]), d & /*config*/
      1 && (_.config = /*config*/
      f[0]), d & /*t*/
      4 && (_.t = /*t*/
      f[2]), l.$set(_);
      let m = i;
      i = u(f), i === m ? a[i].p(f, d) : (V(), y(a[m], 1, 1, () => {
        a[m] = null;
      }), O(), o = a[i], o ? o.p(f, d) : (o = a[i] = r[i](f), o.c()), v(o, 1), o.m(e, null)), (!n || d & /*settings*/
      2) && Z(
        e,
        "max-width",
        /*settings*/
        f[1].css["max-width"] + "px"
      );
    },
    i(f) {
      n || (v(l.$$.fragment, f), v(o), n = !0);
    },
    o(f) {
      y(l.$$.fragment, f), y(o), n = !1;
    },
    d(f) {
      f && b(e), G(l), a[i].d();
    }
  };
}
function ss(s, e, l) {
  let { config: t } = e, { settings: i } = e, { t: o } = e, { onEvent: n } = e, { source: r } = e, { innerWidth: a } = e, u, f = !1;
  return Ml(() => {
    window.location.hash ? (l(7, f = !0), Gl.post(`${i.links.social_api}/delivery/published-media-fullpage-popup`, {
      subscription_uuid: t.subuuid,
      template_name: "fullpage-popup",
      collected_media_id: window.location.hash?.replace("#sqln-id-", "")
    }).then((d) => {
      l(6, u = d.data.collected_media), n("selectPost", {
        post: u,
        config: t,
        type: "fullpage-popup",
        source: r
      });
    }).catch((d) => {
      console.log(d);
    }).finally(() => {
      l(7, f = !1);
    })) : alert("no collected media");
  }), s.$$set = (d) => {
    "config" in d && l(0, t = d.config), "settings" in d && l(1, i = d.settings), "t" in d && l(2, o = d.t), "onEvent" in d && l(3, n = d.onEvent), "source" in d && l(4, r = d.source), "innerWidth" in d && l(5, a = d.innerWidth);
  }, [t, i, o, n, r, a, u, f];
}
class us extends $ {
  constructor(e) {
    super(), x(this, e, ss, ts, X, {
      config: 0,
      settings: 1,
      t: 2,
      onEvent: 3,
      source: 4,
      innerWidth: 5
    });
  }
}
export {
  us as F,
  rs as P
};
